{"version":3,"sources":["webpack://@flagrow/upload/webpack/bootstrap","webpack://@flagrow/upload/external \"flarum.core.compat['extend']\"","webpack://@flagrow/upload/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@flagrow/upload/external \"flarum.core.compat['components/Button']\"","webpack://@flagrow/upload/external \"flarum.core.compat['Component']\"","webpack://@flagrow/upload/external \"flarum.core.compat['components/Select']\"","webpack://@flagrow/upload/external \"flarum.core.compat['components/Switch']\"","webpack://@flagrow/upload/external \"flarum.core.compat['components/PermissionGrid']\"","webpack://@flagrow/upload/external \"flarum.core.compat['app']\"","webpack://@flagrow/upload/external \"flarum.core.compat['components/AdminNav']\"","webpack://@flagrow/upload/external \"flarum.core.compat['components/AdminLinkButton']\"","webpack://@flagrow/upload/external \"flarum.core.compat['utils/saveSettings']\"","webpack://@flagrow/upload/external \"flarum.core.compat['components/Alert']\"","webpack://@flagrow/upload/external \"flarum.core.compat['components/UploadImageButton']\"","webpack://@flagrow/upload/./src/admin/components/UploadPage.js","webpack://@flagrow/upload/./src/admin/addUploadPane.js","webpack://@flagrow/upload/./src/admin/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","_inheritsLoose","subClass","superClass","constructor","__proto__","__webpack_exports__","UploadPage","init","_this","this","loading","fields","checkboxes","objects","watermarkPositions","top-left","top-right","bottom-left","bottom-right","center","left","top","right","bottom","settings","app","data","settingsPrefix","uploadMethodOptions","addPrefix","templateOptions","values","forEach","prop","JSON","parse","mimeTypes","^image\\/.*","adapter","template","newMimeType","regex","view","_this2","className","onsubmit","translator","trans","maxFileSize","oninput","withAttr","keys","map","mime","config","updateMimeTypeKey","Select","component","options","onchange","updateMimeTypeAdapter","getTemplateOptionsForInput","updateMimeTypeTemplate","Button","type","children","onclick","deleteMimeType","addMimeType","templateOptionsDescriptions","Switch","state","mustResize","resizeMaxWidth","disabled","addsWatermarks","watermarkPosition","UploadImageButton_default","a","disableHotlinkProtection","disableDownloadLogging","cdnUrl","imgurClientId","awsS3Key","awsS3Secret","awsS3Bucket","awsS3Region","ovhContainer","ovhTenantId","ovhUsername","ovhPassword","ovhRegion","changed","option","push","description","_this3","fieldsCheck","some","checkboxesCheck","objectsCheck","stringify","e","_this4","preventDefault","alerts","dismiss","successAlert","saveSettings","then","show","Alert","catch","redraw","Component","addUploadPane","routes","path","extensionSettings","route","extend","AdminNav","items","add","AdminLinkButton","href","icon","initializers","PermissionGrid","label","permission","allowGuest"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n","module.exports = flarum.core.compat['extend'];","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['components/Select'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['components/PermissionGrid'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/AdminLinkButton'];","module.exports = flarum.core.compat['utils/saveSettings'];","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['components/UploadImageButton'];","import Component from 'flarum/Component';\nimport Button from 'flarum/components/Button';\nimport saveSettings from 'flarum/utils/saveSettings';\nimport Alert from 'flarum/components/Alert';\nimport Select from 'flarum/components/Select';\nimport Switch from 'flarum/components/Switch';\nimport UploadImageButton from 'flarum/components/UploadImageButton';\n\nexport default class UploadPage extends Component {\n\n  init() {\n    // whether we are saving the settings or not right now\n    this.loading = false;\n\n    // the fields we need to watch and to save\n    this.fields = [\n      // image\n      'resizeMaxWidth',\n      'cdnUrl',\n      'maxFileSize',\n      'overrideAvatarUpload',\n      // watermark\n      'watermark',\n      'watermarkPosition',\n      // Imgur\n      'imgurClientId',\n      // AWS\n      'awsS3Key',\n      'awsS3Secret',\n      'awsS3Bucket',\n      'awsS3Region',\n      // OVH\n      'ovhUsername',\n      'ovhPassword',\n      'ovhTenantId',\n      'ovhContainer',\n      'ovhRegion',\n    ];\n\n    // the checkboxes we need to watch and to save.\n    this.checkboxes = [\n      'mustResize',\n      'overrideAvatarUpload',\n      'addsWatermarks',\n\n      'disableHotlinkProtection',\n      'disableDownloadLogging',\n    ];\n\n    // fields that are objects\n    this.objects = [\n      'mimeTypes'\n    ];\n\n    // watermark positions\n    this.watermarkPositions = {\n      'top-left': 'top-left',\n      'top-right': 'top-right',\n      'bottom-left': 'bottom-left',\n      'bottom-right': 'bottom-right',\n      'center': 'center',\n      'left': 'left',\n      'top': 'top',\n      'right': 'right',\n      'bottom': 'bottom'\n    };\n\n    // get the saved settings from the database\n    const settings = app.data.settings;\n\n    // our package prefix (to be added to every field and checkbox in the setting table)\n    this.settingsPrefix = 'flagrow.upload';\n\n    // Options for the Upload methods dropdown menu.\n    this.uploadMethodOptions = settings[this.addPrefix('availableUploadMethods')] || {};\n    // Options for the Template dropdown menu.\n    this.templateOptions = settings[this.addPrefix('availableTemplates')] || {};\n\n    // Contains current values.\n    this.values = {};\n    // bind the values of the fields and checkboxes to the getter/setter functions\n    this.fields.forEach(key =>\n      this.values[key] = m.prop(settings[this.addPrefix(key)])\n    );\n    this.checkboxes.forEach(key =>\n      this.values[key] = m.prop(settings[this.addPrefix(key)] === '1')\n    );\n    this.objects.forEach(key =>\n      this.values[key] = settings[this.addPrefix(key)] ? m.prop(JSON.parse(settings[this.addPrefix(\n        key)])) : m.prop()\n    );\n\n    // Set a sane default in case no mimeTypes have been configured yet.\n    this.values.mimeTypes() || (this.values.mimeTypes = m.prop({\n      '^image\\\\/.*': {\n        adapter: 'local',\n        template: 'image-preview'\n      }\n    }));\n\n    this.newMimeType = {\n      regex: m.prop(''),\n      adapter: m.prop('local'),\n      template: m.prop('file')\n    };\n  }\n\n  /**\n   * Show the actual ImageUploadPage.\n   *\n   * @returns {*}\n   */\n  view() {\n    return [\n      m('div', { className: 'UploadPage' }, [\n        m('div', { className: 'container' }, [\n          m('form', { onsubmit: this.onsubmit.bind(this) }, [\n            m('fieldset', { className: 'UploadPage-preferences' }, [\n              m('legend', {}, app.translator.trans('flagrow-upload.admin.labels.preferences.title')),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.preferences.max_file_size')),\n              m('input', {\n                className: 'FormControl',\n                value: this.values.maxFileSize() || 2048,\n                oninput: m.withAttr('value', this.values.maxFileSize)\n              }),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.preferences.mime_types')),\n              m('div', { className: 'MimeTypes--Container' },\n                Object.keys(this.values.mimeTypes())\n                  .map(mime => {\n                    let config = this.values.mimeTypes()[mime];\n                    // Compatibility for older versions.\n                    if (typeof config !== 'object') {\n                      config = {\n                        adapter: config,\n                        template: 'file'\n                      };\n                    }\n\n                    return m('div', {}, [\n                      m('input', {\n                        className: 'FormControl MimeTypes',\n                        value: mime,\n                        oninput: m.withAttr('value', this.updateMimeTypeKey.bind(this, mime))\n                      }),\n                      Select.component({\n                        options: this.uploadMethodOptions,\n                        onchange: this.updateMimeTypeAdapter.bind(this, mime, config),\n                        value: config.adapter || 'local'\n                      }),\n                      Select.component({\n                        options: this.getTemplateOptionsForInput(),\n                        onchange: this.updateMimeTypeTemplate.bind(this, mime, config),\n                        value: config.template || 'local'\n                      }),\n                      Button.component({\n                        type: 'button',\n                        className: 'Button Button--warning',\n                        children: 'x',\n                        onclick: this.deleteMimeType.bind(this, mime)\n                      }),\n                    ]);\n                  }),\n                m('br'),\n                m('div', {}, [\n                  m('input', {\n                    className: 'FormControl MimeTypes add-MimeType-key',\n                    value: this.newMimeType.regex(),\n                    oninput: m.withAttr('value', this.newMimeType.regex)\n                  }),\n                  Select.component({\n                    options: this.uploadMethodOptions,\n                    className: 'add-MimeType-value',\n                    oninput: m.withAttr('value', this.newMimeType.adapter),\n                    value: this.newMimeType.adapter()\n                  }),\n                  Select.component({\n                    options: this.getTemplateOptionsForInput(),\n                    className: 'add-MimeType-value',\n                    oninput: m.withAttr('value', this.newMimeType.template),\n                    value: this.newMimeType.template()\n                  }),\n                  Button.component({\n                    type: 'button',\n                    className: 'Button Button--warning',\n                    children: '+',\n                    onclick: this.addMimeType.bind(this)\n                  }),\n                ])\n              ),\n              m('div', { className: 'helpText' }, app.translator.trans('flagrow-upload.admin.help_texts.mime_types')),\n              m('div', { className: 'helpText' }, app.translator.trans('flagrow-upload.admin.help_texts.download_templates')),\n              this.templateOptionsDescriptions()\n            ]),\n            m('fieldset', { className: 'UploadPage-resize' }, [\n              m('legend', {}, app.translator.trans('flagrow-upload.admin.labels.resize.title')),\n              m('div', { className: 'helpText' }, app.translator.trans('flagrow-upload.admin.help_texts.resize')),\n              Switch.component({\n                state: this.values.mustResize() || false,\n                children: app.translator.trans('flagrow-upload.admin.labels.resize.toggle'),\n                onchange: this.values.mustResize\n              }),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.resize.max_width')),\n              m('input', {\n                className: 'FormControl',\n                value: this.values.resizeMaxWidth() || 100,\n                oninput: m.withAttr('value', this.values.resizeMaxWidth),\n                disabled: !this.values.mustResize()\n              }),\n            ]),\n            m('fieldset', { className: 'UploadPage-watermark' }, [\n              m('legend', {}, app.translator.trans('flagrow-upload.admin.labels.watermark.title')),\n              m('div', { className: 'helpText' }, app.translator.trans('flagrow-upload.admin.help_texts.watermark')),\n              Switch.component({\n                state: this.values.addsWatermarks() || false,\n                children: app.translator.trans('flagrow-upload.admin.labels.watermark.toggle'),\n                onchange: this.values.addsWatermarks\n              }),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.watermark.position')),\n              m('div', {}, [\n                Select.component({\n                  options: this.watermarkPositions,\n                  onchange: this.values.watermarkPosition,\n                  value: this.values.watermarkPosition() || 'bottom-right'\n                }),\n              ]),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.watermark.file')),\n              <UploadImageButton name=\"flagrow/watermark\" />\n            ]),\n            m('fieldset', { className: 'UploadPage-downloading' }, [\n              m('legend', {}, app.translator.trans('flagrow-upload.admin.labels.disable-hotlink-protection.title')),\n              m('div',\n                { className: 'helpText' },\n                app.translator.trans('flagrow-upload.admin.help_texts.disable-hotlink-protection')),\n              Switch.component({\n                state: this.values.disableHotlinkProtection() || false,\n                children: app.translator.trans(\n                  'flagrow-upload.admin.labels.disable-hotlink-protection.toggle'),\n                onchange: this.values.disableHotlinkProtection\n              }),\n              m('legend', {}, app.translator.trans('flagrow-upload.admin.labels.disable-download-logging.title')),\n              m('div',\n                { className: 'helpText' },\n                app.translator.trans('flagrow-upload.admin.help_texts.disable-download-logging')),\n              Switch.component({\n                state: this.values.disableDownloadLogging() || false,\n                children: app.translator.trans(\n                  'flagrow-upload.admin.labels.disable-download-logging.toggle'),\n                onchange: this.values.disableDownloadLogging\n              }),\n            ]),\n            m('fieldset', {\n              className: 'UploadPage-local',\n            }, [\n              m('legend', {}, app.translator.trans('flagrow-upload.admin.labels.local.title')),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.local.cdn_url')),\n              m('input', {\n                className: 'FormControl',\n                value: this.values.cdnUrl() || '',\n                oninput: m.withAttr('value', this.values.cdnUrl)\n              }),\n            ]),\n            m('fieldset', {\n              className: 'UploadPage-imgur',\n            }, [\n              m('legend', {}, app.translator.trans('flagrow-upload.admin.labels.imgur.title')),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.imgur.client_id')),\n              m('input', {\n                className: 'FormControl',\n                value: this.values.imgurClientId() || '',\n                oninput: m.withAttr('value', this.values.imgurClientId)\n              }),\n            ]),\n            m('fieldset', {\n              className: 'UploadPage-aws-s3',\n            }, [\n              m('legend', {}, app.translator.trans('flagrow-upload.admin.labels.aws-s3.title')),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.aws-s3.key')),\n              m('input', {\n                className: 'FormControl',\n                value: this.values.awsS3Key() || '',\n                oninput: m.withAttr('value', this.values.awsS3Key)\n              }),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.aws-s3.secret')),\n              m('input', {\n                className: 'FormControl',\n                value: this.values.awsS3Secret() || '',\n                oninput: m.withAttr('value', this.values.awsS3Secret)\n              }),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.aws-s3.bucket')),\n              m('input', {\n                className: 'FormControl',\n                value: this.values.awsS3Bucket() || '',\n                oninput: m.withAttr('value', this.values.awsS3Bucket)\n              }),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.aws-s3.region')),\n              m('input', {\n                className: 'FormControl',\n                value: this.values.awsS3Region() || '',\n                oninput: m.withAttr('value', this.values.awsS3Region)\n              }),\n            ]),\n            m('fieldset', {\n              className: 'UploadPage-ovh-svfs'\n            }, [\n              m('legend', {}, app.translator.trans('flagrow-upload.admin.labels.ovh-svfs.title')),\n              m('label',\n                {},\n                app.translator.trans('flagrow-upload.admin.labels.ovh-svfs.container')),\n              m('input', {\n                className: 'FormControl',\n                value: this.values.ovhContainer() || '',\n                oninput: m.withAttr('value', this.values.ovhContainer)\n              }),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.ovh-svfs.tenantid')),\n              m('input', {\n                className: 'FormControl',\n                value: this.values.ovhTenantId() || '',\n                oninput: m.withAttr('value', this.values.ovhTenantId)\n              }),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.ovh-svfs.username')),\n              m('input', {\n                className: 'FormControl',\n                value: this.values.ovhUsername() || '',\n                oninput: m.withAttr('value', this.values.ovhUsername)\n              }),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.ovh-svfs.password')),\n              m('input', {\n                className: 'FormControl',\n                value: this.values.ovhPassword() || '',\n                oninput: m.withAttr('value', this.values.ovhPassword)\n              }),\n              m('label', {}, app.translator.trans('flagrow-upload.admin.labels.ovh-svfs.region')),\n              m('input', {\n                className: 'FormControl',\n                value: this.values.ovhRegion() || '',\n                oninput: m.withAttr('value', this.values.ovhRegion)\n              }),\n            ]),\n            Button.component({\n              type: 'submit',\n              className: 'Button Button--primary',\n              children: app.translator.trans('flagrow-upload.admin.buttons.save'),\n              loading: this.loading,\n              disabled: !this.changed()\n            }),\n          ])\n        ])\n      ])\n    ];\n  }\n\n  getTemplateOptionsForInput() {\n    let options = [];\n\n    for (let option in this.templateOptions) {\n      options[option] = this.templateOptions[option].name;\n    }\n\n    return options;\n  }\n\n  updateMimeTypeKey(mime, value) {\n    this.values.mimeTypes()[value] = this.values.mimeTypes()[mime];\n\n    this.deleteMimeType(mime);\n  }\n\n  updateMimeTypeAdapter(mime, config, value) {\n    config.adapter = value;\n    this.values.mimeTypes()[mime] = config;\n  }\n\n  updateMimeTypeTemplate(mime, config, value) {\n    config.template = value;\n    this.values.mimeTypes()[mime] = config;\n  }\n\n  deleteMimeType(mime) {\n    delete this.values.mimeTypes()[mime];\n  }\n\n  templateOptionsDescriptions() {\n    const children = [];\n    for (let template in this.templateOptions) {\n      children.push(m('li', this.templateOptions[template].name + \": \" + this.templateOptions[template].description));\n    }\n\n    return m('ul', children);\n  }\n\n  addMimeType() {\n    this.values.mimeTypes()[this.newMimeType.regex()] = {\n      adapter: this.newMimeType.adapter(),\n      template: this.newMimeType.template()\n    };\n\n    this.newMimeType.regex('');\n    this.newMimeType.adapter('local');\n    this.newMimeType.template('file');\n  }\n\n  /**\n   * Checks if the values of the fields and checkboxes are different from\n   * the ones stored in the database\n   *\n   * @returns boolean\n   */\n  changed() {\n    var fieldsCheck = this.fields.some(\n      key => this.values[key]() !== app.data.settings[this.addPrefix(key)]);\n    var checkboxesCheck = this.checkboxes.some(\n      key => this.values[key]() !== (app.data.settings[this.addPrefix(key)] == '1'));\n    var objectsCheck = this.objects.some(\n      key => JSON.stringify(this.values[key]()) !== (app.data.settings[this.addPrefix(key)]));\n    return fieldsCheck || checkboxesCheck || objectsCheck;\n  }\n\n  /**\n   * Saves the settings to the database and redraw the page\n   *\n   * @param e\n   */\n  onsubmit(e) {\n    // prevent the usual form submit behaviour\n    e.preventDefault();\n\n    // if the page is already saving, do nothing\n    if (this.loading) return;\n\n    // prevents multiple savings\n    this.loading = true;\n\n    // remove previous success popup\n    app.alerts.dismiss(this.successAlert);\n\n    const settings = {};\n\n    // gets all the values from the form\n    this.fields.forEach(key => settings[this.addPrefix(key)] = this.values[key]());\n    this.checkboxes.forEach(key => settings[this.addPrefix(key)] = this.values[key]());\n    this.objects.forEach(key => settings[this.addPrefix(key)] = JSON.stringify(this.values[key]()));\n\n    // actually saves everything in the database\n    saveSettings(settings)\n      .then(() => {\n        // on success, show popup\n        app.alerts.show(this.successAlert = new Alert({\n          type: 'success',\n          children: app.translator.trans('core.admin.basics.saved_message')\n        }));\n      })\n      .catch(() => {\n      })\n      .then(() => {\n        // return to the initial state and redraw the page\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  /**\n   * Adds the prefix `this.settingsPrefix` at the beginning of `key`\n   *\n   * @returns string\n   */\n  addPrefix(key) {\n    return this.settingsPrefix + '.' + key;\n  }\n}\n","import {extend} from \"flarum/extend\";\nimport AdminNav from \"flarum/components/AdminNav\";\nimport AdminLinkButton from \"flarum/components/AdminLinkButton\";\nimport UploadPage from \"./components/UploadPage\";\n\nexport default function () {\n    // create the route\n    app.routes['flagrow-upload'] = {path: '/flagrow/upload', component: UploadPage.component()};\n\n    // bind the route we created to the three dots settings button\n    app.extensionSettings['flagrow-upload'] = () => m.route(app.route('flagrow-upload'));\n\n    extend(AdminNav.prototype, 'items', items => {\n        // add the Image Upload tab to the admin navigation menu\n        items.add('flagrow-upload', AdminLinkButton.component({\n            href: app.route('flagrow-upload'),\n            icon: 'far fa-file',\n            children: 'File Upload',\n            description: app.translator.trans('flagrow-upload.admin.help_texts.description')\n        }));\n    });\n}","import {extend} from \"flarum/extend\";\nimport app from \"flarum/app\";\nimport PermissionGrid from \"flarum/components/PermissionGrid\";\nimport addUploadPane from \"./addUploadPane\";\n\napp.initializers.add('flagrow-upload', app => {\n    // add the admin pane\n    addUploadPane();\n\n    // add the permission option to the relative pane\n    extend(PermissionGrid.prototype, 'startItems', items => {\n        items.add('upload', {\n            icon: 'far fa-file',\n            label: app.translator.trans('flagrow-upload.admin.permissions.upload_label'),\n            permission: 'flagrow.upload'\n        });\n    });\n\n    // add the permission option to the relative pane\n    extend(PermissionGrid.prototype, 'viewItems', items => {\n        items.add('download', {\n            icon: 'fas fa-download',\n            label: app.translator.trans('flagrow-upload.admin.permissions.download_label'),\n            permission: 'flagrow.upload.download',\n            allowGuest: true\n        });\n    });\n});\n"],"sourceRoot":""}