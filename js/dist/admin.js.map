{"version":3,"file":"admin.js","mappings":";0BAAA,IAAIA,EAAUC,EAAAA,KAAAA,QACd,SAASC,IACP,aACAC,EAAOC,QAAUF,EAAsB,WACrC,OAAOG,CACT,EAAGF,EAAOC,QAAQE,YAAa,EAAMH,EAAOC,QAAiB,QAAID,EAAOC,QACxE,IAAIG,EACFF,EAAI,CAAC,EACLG,EAAIC,OAAOC,UACXC,EAAIH,EAAEI,eACNC,EAAIJ,OAAOK,gBAAkB,SAAUP,EAAGF,EAAGG,GAC3CD,EAAEF,GAAKG,EAAEO,KACX,EACAC,EAAI,mBAAqBC,OAASA,OAAS,CAAC,EAC5CC,EAAIF,EAAEG,UAAY,aAClBC,EAAIJ,EAAEK,eAAiB,kBACvBC,EAAIN,EAAEO,aAAe,gBACvB,SAASC,EAAOjB,EAAGF,EAAGG,GACpB,OAAOC,OAAOK,eAAeP,EAAGF,EAAG,CACjCU,MAAOP,EACPiB,YAAY,EACZC,cAAc,EACdC,UAAU,IACRpB,EAAEF,EACR,CACA,IACEmB,EAAO,CAAC,EAAG,GACb,CAAE,MAAOjB,GACPiB,EAAS,SAAgBjB,EAAGF,EAAGG,GAC7B,OAAOD,EAAEF,GAAKG,CAChB,CACF,CACA,SAASoB,EAAKrB,EAAGF,EAAGG,EAAGG,GACrB,IAAIK,EAAIX,GAAKA,EAAEK,qBAAqBmB,EAAYxB,EAAIwB,EAClDX,EAAIT,OAAOqB,OAAOd,EAAEN,WACpBU,EAAI,IAAIW,EAAQpB,GAAK,IACvB,OAAOE,EAAEK,EAAG,UAAW,CACrBH,MAAOiB,EAAiBzB,EAAGC,EAAGY,KAC5BF,CACN,CACA,SAASe,EAAS1B,EAAGF,EAAGG,GACtB,IACE,MAAO,CACL0B,KAAM,SACNC,IAAK5B,EAAE6B,KAAK/B,EAAGG,GAEnB,CAAE,MAAOD,GACP,MAAO,CACL2B,KAAM,QACNC,IAAK5B,EAET,CACF,CACAF,EAAEuB,KAAOA,EACT,IAAIS,EAAI,iBACNC,EAAI,iBACJC,EAAI,YACJC,EAAI,YACJC,EAAI,CAAC,EACP,SAASZ,IAAa,CACtB,SAASa,IAAqB,CAC9B,SAASC,IAA8B,CACvC,IAAIC,EAAI,CAAC,EACTpB,EAAOoB,EAAG1B,GAAG,WACX,OAAO2B,IACT,IACA,IAAIC,EAAIrC,OAAOsC,eACbC,EAAIF,GAAKA,EAAEA,EAAEG,EAAO,MACtBD,GAAKA,IAAMxC,GAAKG,EAAEyB,KAAKY,EAAG9B,KAAO0B,EAAII,GACrC,IAAIE,EAAIP,EAA2BjC,UAAYmB,EAAUnB,UAAYD,OAAOqB,OAAOc,GACnF,SAASO,EAAsB5C,GAC7B,CAAC,OAAQ,QAAS,UAAU6C,SAAQ,SAAU/C,GAC5CmB,EAAOjB,EAAGF,GAAG,SAAUE,GACrB,OAAOsC,KAAKQ,QAAQhD,EAAGE,EACzB,GACF,GACF,CACA,SAAS+C,EAAc/C,EAAGF,GACxB,SAASkD,EAAO/C,EAAGK,EAAGG,EAAGE,GACvB,IAAIE,EAAIa,EAAS1B,EAAEC,GAAID,EAAGM,GAC1B,GAAI,UAAYO,EAAEc,KAAM,CACtB,IAAIZ,EAAIF,EAAEe,IACRE,EAAIf,EAAEP,MACR,OAAOsB,GAAK,UAAYrC,EAAQqC,IAAM1B,EAAEyB,KAAKC,EAAG,WAAahC,EAAEmD,QAAQnB,EAAEoB,SAASC,MAAK,SAAUnD,GAC/FgD,EAAO,OAAQhD,EAAGS,EAAGE,EACvB,IAAG,SAAUX,GACXgD,EAAO,QAAShD,EAAGS,EAAGE,EACxB,IAAKb,EAAEmD,QAAQnB,GAAGqB,MAAK,SAAUnD,GAC/Be,EAAEP,MAAQR,EAAGS,EAAEM,EACjB,IAAG,SAAUf,GACX,OAAOgD,EAAO,QAAShD,EAAGS,EAAGE,EAC/B,GACF,CACAA,EAAEE,EAAEe,IACN,CACA,IAAI3B,EACJK,EAAEgC,KAAM,UAAW,CACjB9B,MAAO,SAAeR,EAAGI,GACvB,SAASgD,IACP,OAAO,IAAItD,GAAE,SAAUA,EAAGG,GACxB+C,EAAOhD,EAAGI,EAAGN,EAAGG,EAClB,GACF,CACA,OAAOA,EAAIA,EAAIA,EAAEkD,KAAKC,EAA4BA,GAA8BA,GAClF,GAEJ,CACA,SAAS3B,EAAiB3B,EAAGG,EAAGG,GAC9B,IAAIE,EAAIwB,EACR,OAAO,SAAUrB,EAAGE,GAClB,GAAIL,IAAM0B,EAAG,MAAMqB,MAAM,gCACzB,GAAI/C,IAAM2B,EAAG,CACX,GAAI,UAAYxB,EAAG,MAAME,EACzB,MAAO,CACLH,MAAOR,EACPsD,MAAM,EAEV,CACA,IAAKlD,EAAEmD,OAAS9C,EAAGL,EAAEwB,IAAMjB,IAAK,CAC9B,IAAIE,EAAIT,EAAEoD,SACV,GAAI3C,EAAG,CACL,IAAIE,EAAI0C,EAAoB5C,EAAGT,GAC/B,GAAIW,EAAG,CACL,GAAIA,IAAMmB,EAAG,SACb,OAAOnB,CACT,CACF,CACA,GAAI,SAAWX,EAAEmD,OAAQnD,EAAEsD,KAAOtD,EAAEuD,MAAQvD,EAAEwB,SAAS,GAAI,UAAYxB,EAAEmD,OAAQ,CAC/E,GAAIjD,IAAMwB,EAAG,MAAMxB,EAAI2B,EAAG7B,EAAEwB,IAC5BxB,EAAEwD,kBAAkBxD,EAAEwB,IACxB,KAAO,WAAaxB,EAAEmD,QAAUnD,EAAEyD,OAAO,SAAUzD,EAAEwB,KACrDtB,EAAI0B,EACJ,IAAIK,EAAIX,EAAS5B,EAAGG,EAAGG,GACvB,GAAI,WAAaiC,EAAEV,KAAM,CACvB,GAAIrB,EAAIF,EAAEkD,KAAOrB,EAAIF,EAAGM,EAAET,MAAQM,EAAG,SACrC,MAAO,CACL1B,MAAO6B,EAAET,IACT0B,KAAMlD,EAAEkD,KAEZ,CACA,UAAYjB,EAAEV,OAASrB,EAAI2B,EAAG7B,EAAEmD,OAAS,QAASnD,EAAEwB,IAAMS,EAAET,IAC9D,CACF,CACF,CACA,SAAS6B,EAAoB3D,EAAGG,GAC9B,IAAIG,EAAIH,EAAEsD,OACRjD,EAAIR,EAAEc,SAASR,GACjB,GAAIE,IAAMN,EAAG,OAAOC,EAAEuD,SAAW,KAAM,UAAYpD,GAAKN,EAAEc,SAAiB,SAAMX,EAAEsD,OAAS,SAAUtD,EAAE2B,IAAM5B,EAAGyD,EAAoB3D,EAAGG,GAAI,UAAYA,EAAEsD,SAAW,WAAanD,IAAMH,EAAEsD,OAAS,QAAStD,EAAE2B,IAAM,IAAIkC,UAAU,oCAAsC1D,EAAI,aAAc8B,EAC1R,IAAIzB,EAAIiB,EAASpB,EAAGR,EAAEc,SAAUX,EAAE2B,KAClC,GAAI,UAAYnB,EAAEkB,KAAM,OAAO1B,EAAEsD,OAAS,QAAStD,EAAE2B,IAAMnB,EAAEmB,IAAK3B,EAAEuD,SAAW,KAAMtB,EACrF,IAAIvB,EAAIF,EAAEmB,IACV,OAAOjB,EAAIA,EAAE2C,MAAQrD,EAAEH,EAAEiE,YAAcpD,EAAEH,MAAOP,EAAE+D,KAAOlE,EAAEmE,QAAS,WAAahE,EAAEsD,SAAWtD,EAAEsD,OAAS,OAAQtD,EAAE2B,IAAM5B,GAAIC,EAAEuD,SAAW,KAAMtB,GAAKvB,GAAKV,EAAEsD,OAAS,QAAStD,EAAE2B,IAAM,IAAIkC,UAAU,oCAAqC7D,EAAEuD,SAAW,KAAMtB,EAC9P,CACA,SAASgC,EAAalE,GACpB,IAAIF,EAAI,CACNqE,OAAQnE,EAAE,IAEZ,KAAKA,IAAMF,EAAEsE,SAAWpE,EAAE,IAAK,KAAKA,IAAMF,EAAEuE,WAAarE,EAAE,GAAIF,EAAEwE,SAAWtE,EAAE,IAAKsC,KAAKiC,WAAWC,KAAK1E,EAC1G,CACA,SAAS2E,EAAczE,GACrB,IAAIF,EAAIE,EAAE0E,YAAc,CAAC,EACzB5E,EAAE6B,KAAO,gBAAiB7B,EAAE8B,IAAK5B,EAAE0E,WAAa5E,CAClD,CACA,SAAS0B,EAAQxB,GACfsC,KAAKiC,WAAa,CAAC,CACjBJ,OAAQ,SACNnE,EAAE6C,QAAQqB,EAAc5B,MAAOA,KAAKqC,OAAM,EAChD,CACA,SAASjC,EAAO5C,GACd,GAAIA,GAAK,KAAOA,EAAG,CACjB,IAAIG,EAAIH,EAAEa,GACV,GAAIV,EAAG,OAAOA,EAAE4B,KAAK/B,GACrB,GAAI,mBAAqBA,EAAEkE,KAAM,OAAOlE,EACxC,IAAK8E,MAAM9E,EAAE+E,QAAS,CACpB,IAAIvE,GAAK,EACPG,EAAI,SAASuD,IACX,OAAS1D,EAAIR,EAAE+E,QAAS,GAAIzE,EAAEyB,KAAK/B,EAAGQ,GAAI,OAAO0D,EAAKxD,MAAQV,EAAEQ,GAAI0D,EAAKV,MAAO,EAAIU,EACpF,OAAOA,EAAKxD,MAAQR,EAAGgE,EAAKV,MAAO,EAAIU,CACzC,EACF,OAAOvD,EAAEuD,KAAOvD,CAClB,CACF,CACA,MAAM,IAAIqD,UAAUrE,EAAQK,GAAK,mBACnC,CACA,OAAOqC,EAAkBhC,UAAYiC,EAA4B9B,EAAEqC,EAAG,cAAe,CACnFnC,MAAO4B,EACPjB,cAAc,IACZb,EAAE8B,EAA4B,cAAe,CAC/C5B,MAAO2B,EACPhB,cAAc,IACZgB,EAAkB2C,YAAc7D,EAAOmB,EAA4BrB,EAAG,qBAAsBjB,EAAEiF,oBAAsB,SAAU/E,GAChI,IAAIF,EAAI,mBAAqBE,GAAKA,EAAEgF,YACpC,QAASlF,IAAMA,IAAMqC,GAAqB,uBAAyBrC,EAAEgF,aAAehF,EAAEmF,MACxF,EAAGnF,EAAEoF,KAAO,SAAUlF,GACpB,OAAOE,OAAOiF,eAAiBjF,OAAOiF,eAAenF,EAAGoC,IAA+BpC,EAAEoF,UAAYhD,EAA4BnB,EAAOjB,EAAGe,EAAG,sBAAuBf,EAAEG,UAAYD,OAAOqB,OAAOoB,GAAI3C,CACvM,EAAGF,EAAEuF,MAAQ,SAAUrF,GACrB,MAAO,CACLkD,QAASlD,EAEb,EAAG4C,EAAsBG,EAAc5C,WAAYc,EAAO8B,EAAc5C,UAAWU,GAAG,WACpF,OAAOyB,IACT,IAAIxC,EAAEiD,cAAgBA,EAAejD,EAAEwF,MAAQ,SAAUtF,EAAGC,EAAGG,EAAGE,EAAGG,QACnE,IAAWA,IAAMA,EAAI8E,SACrB,IAAI5E,EAAI,IAAIoC,EAAc1B,EAAKrB,EAAGC,EAAGG,EAAGE,GAAIG,GAC5C,OAAOX,EAAEiF,oBAAoB9E,GAAKU,EAAIA,EAAEqD,OAAOb,MAAK,SAAUnD,GAC5D,OAAOA,EAAEsD,KAAOtD,EAAEQ,MAAQG,EAAEqD,MAC9B,GACF,EAAGpB,EAAsBD,GAAI1B,EAAO0B,EAAG5B,EAAG,aAAcE,EAAO0B,EAAGhC,GAAG,WACnE,OAAO2B,IACT,IAAIrB,EAAO0B,EAAG,YAAY,WACxB,MAAO,oBACT,IAAI7C,EAAE0F,KAAO,SAAUxF,GACrB,IAAIF,EAAII,OAAOF,GACbC,EAAI,GACN,IAAK,IAAIG,KAAKN,EAAGG,EAAEuE,KAAKpE,GACxB,OAAOH,EAAEwF,UAAW,SAASzB,IAC3B,KAAO/D,EAAE4E,QAAS,CAChB,IAAI7E,EAAIC,EAAEyF,MACV,GAAI1F,KAAKF,EAAG,OAAOkE,EAAKxD,MAAQR,EAAGgE,EAAKV,MAAO,EAAIU,CACrD,CACA,OAAOA,EAAKV,MAAO,EAAIU,CACzB,CACF,EAAGlE,EAAE4C,OAASA,EAAQlB,EAAQrB,UAAY,CACxC6E,YAAaxD,EACbmD,MAAO,SAAe7E,GACpB,GAAIwC,KAAKqD,KAAO,EAAGrD,KAAK0B,KAAO,EAAG1B,KAAKoB,KAAOpB,KAAKqB,MAAQ3D,EAAGsC,KAAKgB,MAAO,EAAIhB,KAAKkB,SAAW,KAAMlB,KAAKiB,OAAS,OAAQjB,KAAKV,IAAM5B,EAAGsC,KAAKiC,WAAW1B,QAAQ4B,IAAiB3E,EAAG,IAAK,IAAIG,KAAKqC,KAAM,MAAQrC,EAAE2F,OAAO,IAAMxF,EAAEyB,KAAKS,KAAMrC,KAAO2E,OAAO3E,EAAE4F,MAAM,MAAQvD,KAAKrC,GAAKD,EACtR,EACA8F,KAAM,WACJxD,KAAKgB,MAAO,EACZ,IAAItD,EAAIsC,KAAKiC,WAAW,GAAGG,WAC3B,GAAI,UAAY1E,EAAE2B,KAAM,MAAM3B,EAAE4B,IAChC,OAAOU,KAAKyD,IACd,EACAnC,kBAAmB,SAA2B9D,GAC5C,GAAIwC,KAAKgB,KAAM,MAAMxD,EACrB,IAAIG,EAAIqC,KACR,SAAS0D,EAAO5F,EAAGE,GACjB,OAAOK,EAAEgB,KAAO,QAAShB,EAAEiB,IAAM9B,EAAGG,EAAE+D,KAAO5D,EAAGE,IAAML,EAAEsD,OAAS,OAAQtD,EAAE2B,IAAM5B,KAAMM,CACzF,CACA,IAAK,IAAIA,EAAIgC,KAAKiC,WAAWM,OAAS,EAAGvE,GAAK,IAAKA,EAAG,CACpD,IAAIG,EAAI6B,KAAKiC,WAAWjE,GACtBK,EAAIF,EAAEiE,WACR,GAAI,SAAWjE,EAAE0D,OAAQ,OAAO6B,EAAO,OACvC,GAAIvF,EAAE0D,QAAU7B,KAAKqD,KAAM,CACzB,IAAI9E,EAAIT,EAAEyB,KAAKpB,EAAG,YAChBM,EAAIX,EAAEyB,KAAKpB,EAAG,cAChB,GAAII,GAAKE,EAAG,CACV,GAAIuB,KAAKqD,KAAOlF,EAAE2D,SAAU,OAAO4B,EAAOvF,EAAE2D,UAAU,GACtD,GAAI9B,KAAKqD,KAAOlF,EAAE4D,WAAY,OAAO2B,EAAOvF,EAAE4D,WAChD,MAAO,GAAIxD,GACT,GAAIyB,KAAKqD,KAAOlF,EAAE2D,SAAU,OAAO4B,EAAOvF,EAAE2D,UAAU,OACjD,CACL,IAAKrD,EAAG,MAAMsC,MAAM,0CACpB,GAAIf,KAAKqD,KAAOlF,EAAE4D,WAAY,OAAO2B,EAAOvF,EAAE4D,WAChD,CACF,CACF,CACF,EACAR,OAAQ,SAAgB7D,EAAGF,GACzB,IAAK,IAAIG,EAAIqC,KAAKiC,WAAWM,OAAS,EAAG5E,GAAK,IAAKA,EAAG,CACpD,IAAIK,EAAIgC,KAAKiC,WAAWtE,GACxB,GAAIK,EAAE6D,QAAU7B,KAAKqD,MAAQvF,EAAEyB,KAAKvB,EAAG,eAAiBgC,KAAKqD,KAAOrF,EAAE+D,WAAY,CAChF,IAAI5D,EAAIH,EACR,KACF,CACF,CACAG,IAAM,UAAYT,GAAK,aAAeA,IAAMS,EAAE0D,QAAUrE,GAAKA,GAAKW,EAAE4D,aAAe5D,EAAI,MACvF,IAAIE,EAAIF,EAAIA,EAAEiE,WAAa,CAAC,EAC5B,OAAO/D,EAAEgB,KAAO3B,EAAGW,EAAEiB,IAAM9B,EAAGW,GAAK6B,KAAKiB,OAAS,OAAQjB,KAAK0B,KAAOvD,EAAE4D,WAAYnC,GAAKI,KAAK2D,SAAStF,EACxG,EACAsF,SAAU,SAAkBjG,EAAGF,GAC7B,GAAI,UAAYE,EAAE2B,KAAM,MAAM3B,EAAE4B,IAChC,MAAO,UAAY5B,EAAE2B,MAAQ,aAAe3B,EAAE2B,KAAOW,KAAK0B,KAAOhE,EAAE4B,IAAM,WAAa5B,EAAE2B,MAAQW,KAAKyD,KAAOzD,KAAKV,IAAM5B,EAAE4B,IAAKU,KAAKiB,OAAS,SAAUjB,KAAK0B,KAAO,OAAS,WAAahE,EAAE2B,MAAQ7B,IAAMwC,KAAK0B,KAAOlE,GAAIoC,CAC1N,EACAgE,OAAQ,SAAgBlG,GACtB,IAAK,IAAIF,EAAIwC,KAAKiC,WAAWM,OAAS,EAAG/E,GAAK,IAAKA,EAAG,CACpD,IAAIG,EAAIqC,KAAKiC,WAAWzE,GACxB,GAAIG,EAAEoE,aAAerE,EAAG,OAAOsC,KAAK2D,SAAShG,EAAEyE,WAAYzE,EAAEqE,UAAWG,EAAcxE,GAAIiC,CAC5F,CACF,EACA,MAAS,SAAgBlC,GACvB,IAAK,IAAIF,EAAIwC,KAAKiC,WAAWM,OAAS,EAAG/E,GAAK,IAAKA,EAAG,CACpD,IAAIG,EAAIqC,KAAKiC,WAAWzE,GACxB,GAAIG,EAAEkE,SAAWnE,EAAG,CAClB,IAAII,EAAIH,EAAEyE,WACV,GAAI,UAAYtE,EAAEuB,KAAM,CACtB,IAAIrB,EAAIF,EAAEwB,IACV6C,EAAcxE,EAChB,CACA,OAAOK,CACT,CACF,CACA,MAAM+C,MAAM,wBACd,EACA8C,cAAe,SAAuBrG,EAAGG,EAAGG,GAC1C,OAAOkC,KAAKkB,SAAW,CACrB5C,SAAU8B,EAAO5C,GACjBiE,WAAY9D,EACZgE,QAAS7D,GACR,SAAWkC,KAAKiB,SAAWjB,KAAKV,IAAM5B,GAAIkC,CAC/C,GACCpC,CACL,CACAF,EAAOC,QAAUF,EAAqBC,EAAOC,QAAQE,YAAa,EAAMH,EAAOC,QAAiB,QAAID,EAAOC,iBC/S3G,SAASJ,EAAQa,GAGf,OAAOV,EAAOC,QAAUJ,EAAU,mBAAqBiB,QAAU,iBAAmBA,OAAOE,SAAW,SAAUN,GAC9G,cAAcA,CAChB,EAAI,SAAUA,GACZ,OAAOA,GAAK,mBAAqBI,QAAUJ,EAAE0E,cAAgBtE,QAAUJ,IAAMI,OAAOP,UAAY,gBAAkBG,CACpH,EAAGV,EAAOC,QAAQE,YAAa,EAAMH,EAAOC,QAAiB,QAAID,EAAOC,QAASJ,EAAQa,EAC3F,CACAV,EAAOC,QAAUJ,EAASG,EAAOC,QAAQE,YAAa,EAAMH,EAAOC,QAAiB,QAAID,EAAOC,uBCP/F,IAAIuG,EAAU1G,EAAQ,GAARA,GACdE,EAAOC,QAAUuG,EAGjB,IACEC,mBAAqBD,CACvB,CAAE,MAAOE,GACmB,iBAAfC,WACTA,WAAWF,mBAAqBD,EAEhCI,SAAS,IAAK,yBAAdA,CAAwCJ,EAE5C,ICbIK,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAa/G,QAGrB,IAAID,EAAS6G,EAAyBE,GAAY,CAGjD9G,QAAS,CAAC,GAOX,OAHAiH,EAAoBH,GAAU/G,EAAQA,EAAOC,QAAS6G,GAG/C9G,EAAOC,OACf,CCrBA6G,EAAoBtG,EAAKR,IACxB,IAAImH,EAASnH,GAAUA,EAAOG,WAC7B,IAAOH,EAAiB,QACxB,IAAM,EAEP,OADA8G,EAAoBnE,EAAEwE,EAAQ,CAAEpG,EAAGoG,IAC5BA,CAAM,ECLdL,EAAoBnE,EAAI,CAAC1C,EAASmH,KACjC,IAAI,IAAIC,KAAOD,EACXN,EAAoBpG,EAAE0G,EAAYC,KAASP,EAAoBpG,EAAET,EAASoH,IAC5E/G,OAAOK,eAAeV,EAASoH,EAAK,CAAE/F,YAAY,EAAMgG,IAAKF,EAAWC,IAE1E,ECNDP,EAAoBpG,EAAI,CAAC6G,EAAKC,IAAUlH,OAAOC,UAAUE,eAAewB,KAAKsF,EAAKC,GCClFV,EAAoBzG,EAAKJ,IACH,oBAAXa,QAA0BA,OAAOM,aAC1Cd,OAAOK,eAAeV,EAASa,OAAOM,YAAa,CAAER,MAAO,WAE7DN,OAAOK,eAAeV,EAAS,aAAc,CAAEW,OAAO,GAAO,8ECL9D,MAAM,EAA+B6G,OAAOC,KAAKC,OAAO,0BCAxD,SAASC,EAAgBxH,EAAGF,GAC1B,OAAO0H,EAAkBtH,OAAOiF,eAAiBjF,OAAOiF,eAAesC,OAAS,SAAUzH,EAAGF,GAC3F,OAAOE,EAAEoF,UAAYtF,EAAGE,CAC1B,EAAGwH,EAAgBxH,EAAGF,EACxB,CCHA,SAAS4H,EAAe1H,EAAGM,GACzBN,EAAEG,UAAYD,OAAOqB,OAAOjB,EAAEH,WAAYH,EAAEG,UAAU6E,YAAchF,EAAGmF,EAAenF,EAAGM,EAC3F,CCHA,MAAM,EAA+B+G,OAAOC,KAAKC,OAAO,yCCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,yCCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,wCCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,yCCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,yCCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,0CCGnCI,EAAiB,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAAC,MAAA,KAAAC,YAAA,KAGnC,OAHmCJ,EAAAC,EAAAC,GAAAD,EAAAxH,UACpC4H,YAAA,WACE,OAAOC,IAAAA,MAAUC,UAAU,UAAY,IAAM3F,KAAK4F,MAAMC,IAC1D,EAACR,CAAA,CAHmC,OAASS,ICH/C,MAAM,EAA+Bf,OAAOC,KAAKC,OAAO,sCCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,oCCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,+CCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,sCCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,wCCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,mDCInCc,EAAgB,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAAT,MAAA,KAAAC,YAAA,KAAAJ,EAAAW,EAAAC,GAAA,IAAAC,EAAAF,EAAAlI,UAyGlC,OAzGkCoI,EACnCC,OAAA,SAAOC,GACLH,EAAAnI,UAAMqI,OAAM3G,KAAC,KAAA4G,GAEbnG,KAAKoG,WAAY,EACjBpG,KAAKqG,WAAa,CAAC,CACrB,EAACJ,EAEDK,UAAA,WACE,MAAO,4CACT,EAACL,EAEDM,MAAA,WACE,OAAOb,IAAAA,WAAec,MAAM,sCAC9B,EAACP,EAEDQ,QAAA,WACE,OACEC,EAAA,OAAKJ,UAAU,cACbI,EAAA,SACGhB,IAAAA,WAAec,MAAM,4CAA6C,CACjEnI,EAAGqI,EAAA,KAAGC,KAAK,uDAGfD,EAAA,SAAIhB,IAAAA,WAAec,MAAM,yCACzBE,EAAA,WACEA,EAAA,SAAOrH,KAAK,OAAOuH,SAAU5G,KAAK6G,SAAS1B,KAAKnF,MAAO8G,SAAU9G,KAAKoG,YACrEpG,KAAKoG,UAAYW,IAAAA,YAA+B,MAEnDL,EAAA,UACEA,EAAA,UAAKhB,IAAAA,WAAec,MAAM,qDAC1BE,EAAA,eACiD,IAAvC1G,KAAKqG,WAAWW,mBACtBN,EAAA,UAAKhB,IAAAA,WAAec,MAAM,mDACxBxG,KAAKqG,WAAWW,mBAClBtB,IAAAA,WAAec,MAAM,mDAErBd,IAAAA,WAAec,MAAM,kDAAmD,CACtES,MAAOjH,KAAKqG,WAAWa,0BAA4B,QAK3DR,EAAA,UACEA,EAAA,UAAKhB,IAAAA,WAAec,MAAM,gDAC1BE,EAAA,UACG1G,KAAKqG,WAAWc,cACfT,EAAA,YAAO1G,KAAKqG,WAAWc,eAEvBT,EAAA,UAAKhB,IAAAA,WAAec,MAAM,kDAIhCE,EAAA,UACEA,EAAA,UAAKhB,IAAAA,WAAec,MAAM,gDAC1BE,EAAA,UACG1G,KAAKqG,WAAWe,SACfV,EAAA,YAAO1G,KAAKqG,WAAWe,UAEvBV,EAAA,UAAKhB,IAAAA,WAAec,MAAM,kDAIhCE,EAAA,UACEA,EAAA,UAAKhB,IAAAA,WAAec,MAAM,oDAC1BE,EAAA,UACG1G,KAAKqG,WAAWgB,kBACfX,EAAA,YAAO1G,KAAKqG,WAAWgB,mBAEvBX,EAAA,UAAKhB,IAAAA,WAAec,MAAM,kDAMtC,EAACP,EAEDY,SAAA,SAASS,GAGP,IAHc,IAAAC,EAAA,KACRC,EAAO,IAAIC,SAERtJ,EAAI,EAAGA,EAAImJ,EAAMI,OAAOC,MAAMpF,OAAQpE,IAC7CqJ,EAAKI,OAAO,UAAWN,EAAMI,OAAOC,MAAMxJ,IAK5C,OAFA6B,KAAKoG,WAAY,EAEVV,IAAAA,QACI,CACPzE,OAAQ,OACR4G,IAAKnC,IAAAA,MAAUC,UAAU,UAAY,2BACrCmC,UAAW,SAACC,GAAG,OAAKA,CAAG,EACvBP,KAAAA,IAED3G,MAAK,SAACmH,GACLT,EAAKnB,WAAY,EACjBmB,EAAKlB,WAAa2B,EAClBtB,EAAEuB,QACJ,IAAE,OACK,SAAChB,GAKN,MAJAM,EAAKnB,WAAY,EACjBmB,EAAKlB,WAAa,CAAC,EACnBK,EAAEuB,SAEIhB,CACR,GACJ,EAAClB,CAAA,CAzGkC,CAASmC,KCJ9C,MAAM,EAA+BnD,OAAOC,KAAKC,OAAO,oCCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,uCCiBnCkD,EAAU,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAA7C,MAAA,KAAAC,YAAA,KAAAJ,EAAA+C,EAAAC,GAAA,IAAAnC,EAAAkC,EAAAtK,UA0iB5B,OA1iB4BoI,EAC7BC,OAAA,SAAOC,GAAO,IAAAoB,EAAA,KACZa,EAAAvK,UAAMqI,OAAM3G,KAAC,KAAA4G,GAEbnG,KAAKqI,SAAU,EAGfrI,KAAKsI,OAAS,CAEZ,iBACA,SACA,cACA,8BACA,0BAEA,YACA,oBAEA,gBAEA,WACA,cACA,cACA,cACA,gBACA,WACA,iBAEA,WACA,cACA,eAIFtI,KAAKuI,WAAa,CAAC,aAAc,iBAAkB,2BAA4B,yBAA0B,6BAGzGvI,KAAKwI,QAAU,CAAC,aAGhBxI,KAAKyI,mBAAqB,CACxB,WAAY,WACZ,YAAa,YACb,cAAe,cACf,eAAgB,eAChBC,OAAQ,SACRC,KAAM,OACNC,IAAK,MACLC,MAAO,QACPC,OAAQ,UAIV9I,KAAK+I,+BAAiC,CACpCC,KAAMtD,IAAAA,WAAec,MAAM,yDAC3B,aAAcd,IAAAA,WAAec,MAAM,+DACnC,YAAad,IAAAA,WAAec,MAAM,+DAIpC,IAAMyC,EAAWvD,IAAAA,KAASuD,SAG1BjJ,KAAKkJ,eAAiB,aAGtBlJ,KAAKmJ,oBAAsBF,EAASjJ,KAAKoJ,UAAU,4BAA8B,CAAC,EAElFpJ,KAAKqJ,gBAAkBJ,EAASjJ,KAAKoJ,UAAU,wBAA0B,CAAC,EAE1EpJ,KAAKI,OAAS,CAAC,EAEfJ,KAAKsI,OAAO/H,SAAQ,SAACoE,GAAG,OAAM4C,EAAKnH,OAAOuE,GAAO2E,IAAOL,EAAS1B,EAAK6B,UAAUzE,IAAM,IACtF3E,KAAKuI,WAAWhI,SAAQ,SAACoE,GAAG,OAAM4C,EAAKnH,OAAOuE,GAAO2E,IAAyC,MAAlCL,EAAS1B,EAAK6B,UAAUzE,IAAc,IAClG3E,KAAKwI,QAAQjI,SAAQ,SAACoE,GAAG,OAAM4C,EAAKnH,OAAOuE,GAAOsE,EAAS1B,EAAK6B,UAAUzE,IAAQ2E,IAAOC,KAAKC,MAAMP,EAAS1B,EAAK6B,UAAUzE,MAAU2E,KAAQ,IAI9ItJ,KAAKyJ,YAAc7L,OAAOsF,KAAKlD,KAAKmJ,qBAAqBvL,OAAOsF,KAAKlD,KAAKmJ,qBAAqB5G,OAAS,GACxGvC,KAAKI,OAAOsJ,cACT1J,KAAKI,OAAOsJ,UAAYJ,IAAO,CAC9B,wDAAyD,CACvDK,QAAS3J,KAAKyJ,YACdG,SAAU,oBAIhB5J,KAAK6J,YAAc,CACjBC,MAAOR,IAAO,IACdK,QAASL,IAAOtJ,KAAKyJ,aACrBG,SAAUN,IAAO,QAErB,EAEArD,EAKAQ,QAAA,WAAU,IAAAsD,EAAA,KACFC,EAAWtE,IAAAA,KAASuD,SAASjJ,KAAKoJ,UAAU,0BAC5Ca,EAAavE,IAAAA,KAASuD,SAASjJ,KAAKoJ,UAAU,gCACpD,MAAO,CACL1C,EAAE,cAAe,CACfA,EAAE,aAAc,CACdA,EACE,OACA,CACEwD,SAAUlK,KAAKkK,SAAS/E,KAAKnF,OAE/B,CACE0G,EAAE,WAAY,CACZA,EAAE,SAAUhB,IAAAA,WAAec,MAAM,8CACjCE,EAAE,QAAShB,IAAAA,WAAec,MAAM,sDAChCE,EAAE,oBAAqB,CACrBxI,MAAO8B,KAAKI,OAAO+J,cACnBC,QAASC,IAAS,QAASrK,KAAKI,OAAO+J,aACvC9K,KAAM,SACNiL,IAAK,MAEP5D,EACE,YACAhB,IAAAA,WAAec,MAAM,qDAAsD,CACzE+D,KAAMP,EACNQ,OAAQP,KAGZvD,EAAE,QAAShB,IAAAA,WAAec,MAAM,mDAChCE,EACE,wBACA9I,OAAOsF,KAAKlD,KAAKI,OAAOsJ,aAAae,KAAI,SAACC,GACxC,IAAIC,EAASZ,EAAK3J,OAAOsJ,YAAYgB,GASrC,MAPsB,iBAAXC,IACTA,EAAS,CACPhB,QAASgB,EACTf,SAAU,SAIPlD,EAAE,MAAO,CACdA,EAAE,8BAA+B,CAC/BxI,MAAOwM,EACPN,QAASC,IAAS,QAASN,EAAKa,kBAAkBzF,KAAK4E,EAAMW,MAE/DG,IAAAA,UAAiB,CACfC,QAASf,EAAKZ,oBACdvC,SAAUmD,EAAKgB,sBAAsB5F,KAAK4E,EAAMW,EAAMC,GACtDzM,MAAOyM,EAAOhB,SAAW,UAE3BkB,IAAAA,UAAiB,CACfC,QAASf,EAAKiB,6BACdpE,SAAUmD,EAAKkB,uBAAuB9F,KAAK4E,EAAMW,EAAMC,GACvDzM,MAAOyM,EAAOf,UAAY,UAE5BsB,IAAAA,UACE,CACE7L,KAAM,SACNiH,UAAW,yBACX6E,QAASpB,EAAKqB,eAAejG,KAAK4E,EAAMW,IAE1C,MAGN,IACAhE,EAAE,MACFA,EAAE,MAAO,CACPA,EAAE,+CAAgD,CAChDxI,MAAO8B,KAAK6J,YAAYC,QACxBM,QAASC,IAAS,QAASrK,KAAK6J,YAAYC,SAE9Ce,IAAAA,UAAiB,CACfC,QAAS9K,KAAKmJ,oBACd7C,UAAW,qBACX8D,QAASC,IAAS,QAASrK,KAAK6J,YAAYF,SAC5CzL,MAAO8B,KAAK6J,YAAYF,YAE1BkB,IAAAA,UAAiB,CACfC,QAAS9K,KAAKgL,6BACd1E,UAAW,qBACX8D,QAASC,IAAS,QAASrK,KAAK6J,YAAYD,UAC5C1L,MAAO8B,KAAK6J,YAAYD,aAE1BsB,IAAAA,UACE,CACE7L,KAAM,SACNiH,UAAW,yBACX6E,QAASnL,KAAKqL,YAAYlG,KAAKnF,OAEjC,QAIN0G,EAAE,YAAahB,IAAAA,WAAec,MAAM,2CACpC0E,IAAAA,UACE,CACE5E,UAAW,SACX6E,QAAO,WACLzF,IAAAA,MAAU4F,KAAKvF,EACjB,GAEFL,IAAAA,WAAec,MAAM,yCAEvBE,EAAE,YAAahB,IAAAA,WAAec,MAAM,mDACpCxG,KAAKuL,gCAEP7E,EAAE,2BAA4B,CAC5BA,EAAE,SAAUhB,IAAAA,WAAec,MAAM,mDACjCE,EAAE,YAAahB,IAAAA,WAAec,MAAM,iDACpCE,EAAE,MAAO,CACPmE,IAAAA,UAAiB,CACfC,QAAS9K,KAAK+I,+BACdnC,SAAU5G,KAAKI,OAAOoL,wBACtBtN,MAAO8B,KAAKI,OAAOoL,2BAA6B,aAItD9E,EAAE,WAAY,CACZA,EAAE,SAAUhB,IAAAA,WAAec,MAAM,yCACjCE,EAAE,YAAahB,IAAAA,WAAec,MAAM,uCACpCiF,IAAAA,UACE,CACEC,MAAO1L,KAAKI,OAAOuL,eAAgB,EACnC/E,SAAU5G,KAAKI,OAAOuL,YAExBjG,IAAAA,WAAec,MAAM,0CAEvBE,EAAE,QAAShB,IAAAA,WAAec,MAAM,6CAChCE,EAAE,QAAS,CACTJ,UAAW,cACXpI,MAAO8B,KAAKI,OAAOwL,kBAAoB,IACvCxB,QAASC,IAAS,QAASrK,KAAKI,OAAOwL,gBACvC9E,UAAW9G,KAAKI,OAAOuL,aACvBtM,KAAM,SACNiL,IAAK,QAGT5D,EAAE,WAAY,CACZA,EAAE,SAAUhB,IAAAA,WAAec,MAAM,mDACjCE,EAAE,YAAahB,IAAAA,WAAec,MAAM,iDACpCE,EAAE,QAAS,CACTJ,UAAW,cACXpI,MAAO8B,KAAKI,OAAOyL,+BAAiC,GACpDzB,QAASC,IAAS,QAASrK,KAAKI,OAAOyL,iCAG3CnF,EAAE,WAAY,CACZA,EAAE,SAAUhB,IAAAA,WAAec,MAAM,4CACjCE,EAAE,YAAahB,IAAAA,WAAec,MAAM,0CACpCiF,IAAAA,UACE,CACEC,MAAO1L,KAAKI,OAAO0L,mBAAoB,EACvClF,SAAU5G,KAAKI,OAAO0L,gBAExBpG,IAAAA,WAAec,MAAM,6CAEvBE,EAAE,QAAShB,IAAAA,WAAec,MAAM,+CAChCE,EAAE,MAAO,CACPmE,IAAAA,UAAiB,CACfC,QAAS9K,KAAKyI,mBACd7B,SAAU5G,KAAKI,OAAO2L,kBACtB7N,MAAO8B,KAAKI,OAAO2L,qBAAuB,mBAG9CrF,EAAE,QAAS,CAAC,EAAGhB,IAAAA,WAAec,MAAM,2CACpCnB,EAAkB2G,UAAU,CAC1BrJ,KAAM,gBACNkD,KAAM,oBAGVa,EAAE,WAAY,CACZA,EAAE,SAAUhB,IAAAA,WAAec,MAAM,6DACjCE,EAAE,YAAahB,IAAAA,WAAec,MAAM,2DACpCiF,IAAAA,UACE,CACEC,MAAO1L,KAAKI,OAAO6L,6BAA8B,EACjDrF,SAAU5G,KAAKI,OAAO6L,0BAExBvG,IAAAA,WAAec,MAAM,8DAEvBE,EAAE,SAAUhB,IAAAA,WAAec,MAAM,2DACjCE,EAAE,YAAahB,IAAAA,WAAec,MAAM,yDACpCiF,IAAAA,UACE,CACEC,MAAO1L,KAAKI,OAAO8L,2BAA4B,EAC/CtF,SAAU5G,KAAKI,OAAO8L,wBAExBxG,IAAAA,WAAec,MAAM,8DAGzBE,EAAE,WAAY,CACZA,EAAE,SAAUhB,IAAAA,WAAec,MAAM,wCACjCE,EAAE,QAAShB,IAAAA,WAAec,MAAM,0CAChCE,EAAE,oBAAqB,CACrBxI,MAAO8B,KAAKI,OAAO+L,UAAY,GAC/B/B,QAASC,IAAS,QAASrK,KAAKI,OAAO+L,YAI3CnM,KAAKoM,eAAeC,UAEpBnB,IAAAA,UACE,CACE7L,KAAM,SACNiH,UAAW,yBACX+B,QAASrI,KAAKqI,QACdvB,UAAW9G,KAAKsM,WAElB5G,IAAAA,WAAec,MAAM,4CAOnC,EAACP,EAEDmG,aAAA,WACE,IAAMG,EAAQ,IAAIC,KA8GlB,YA5G0CjI,IAAtCvE,KAAKmJ,oBAA2B,OAClCoD,EAAME,IACJ,QACA/F,EAAA,OAAKJ,UAAU,SACbI,EAAA,gBACEA,EAAA,cAAShB,IAAAA,WAAec,MAAM,wCAC9BE,EAAA,SACGgG,IAAK,6BAA8B,IACnChH,IAAAA,WAAec,MAAM,oCAAqC,CACzDnI,EAAGqI,EAACiG,IAAI,CAAChG,KAAK,wBAAwBiG,UAAU,EAAMlF,OAAO,cAGjEhB,EAAA,aAAQhB,IAAAA,WAAec,MAAM,4CAC7BE,EAAA,SAAOJ,UAAU,cAAcpI,MAAO8B,KAAKI,OAAOyM,iBAAmB,GAAIzC,QAASC,IAAS,QAASrK,KAAKI,OAAOyM,mBAGpH,UAIsCtI,IAAtCvE,KAAKmJ,oBAA2B,OAClCoD,EAAME,IACJ,QACA/F,EAAE,SAAU,CACVA,EAAE,WAAY,CACZA,EAAE,SAAUhB,IAAAA,WAAec,MAAM,wCACjCE,EAAE,QAAShB,IAAAA,WAAec,MAAM,sCAChCE,EAAE,oBAAqB,CACrBxI,MAAO8B,KAAKI,OAAO0M,YAAc,GACjC1C,QAASC,IAAS,QAASrK,KAAKI,OAAO0M,YAEzCpG,EAAE,QAAS,CAAC,EAAGhB,IAAAA,WAAec,MAAM,yCACpCE,EAAE,oBAAqB,CACrBxI,MAAO8B,KAAKI,OAAO2M,eAAiB,GACpC3C,QAASC,IAAS,QAASrK,KAAKI,OAAO2M,eAEzCrG,EAAE,QAAS,CAAC,EAAGhB,IAAAA,WAAec,MAAM,yCACpCE,EAAE,oBAAqB,CACrBxI,MAAO8B,KAAKI,OAAO4M,eAAiB,GACpC5C,QAASC,IAAS,QAASrK,KAAKI,OAAO4M,mBAI7C,SAIuCzI,IAAvCvE,KAAKmJ,oBAAoB,WAC3BoD,EAAME,IACJ,SACA/F,EAAE,OAAQ,CACRA,EAAE,WAAY,CACZA,EAAE,SAAUhB,IAAAA,WAAec,MAAM,yCACjCE,EAAE,YAAahB,IAAAA,WAAec,MAAM,oDACpCE,EAAE,QAAShB,IAAAA,WAAec,MAAM,uCAChCE,EAAE,oBAAqB,CACrBxI,MAAO8B,KAAKI,OAAO6M,YAAc,GACjC7C,QAASC,IAAS,QAASrK,KAAKI,OAAO6M,YAEzCvG,EAAE,QAAShB,IAAAA,WAAec,MAAM,0CAChCE,EAAE,oBAAqB,CACrBxI,MAAO8B,KAAKI,OAAO8M,eAAiB,GACpC9C,QAASC,IAAS,QAASrK,KAAKI,OAAO8M,eAEzCxG,EAAE,QAAShB,IAAAA,WAAec,MAAM,0CAChCE,EAAE,oBAAqB,CACrBxI,MAAO8B,KAAKI,OAAO+M,eAAiB,GACpC/C,QAASC,IAAS,QAASrK,KAAKI,OAAO+M,eAEzCzG,EAAE,QAAShB,IAAAA,WAAec,MAAM,0CAChCE,EAAE,oBAAqB,CACrBxI,MAAO8B,KAAKI,OAAOgN,eAAiB,GACpChD,QAASC,IAAS,QAASrK,KAAKI,OAAOgN,iBAG3C1G,EAAE,WAAY,CACZA,EAAE,SAAUhB,IAAAA,WAAec,MAAM,kDACjCE,EAAE,YAAahB,IAAAA,WAAec,MAAM,sDACpCE,EAAE,QAAShB,IAAAA,WAAec,MAAM,4CAChCE,EAAE,oBAAqB,CACrBxI,MAAO8B,KAAKI,OAAOiN,iBAAmB,GACtCjD,QAASC,IAAS,QAASrK,KAAKI,OAAOiN,iBAEzC5B,IAAAA,UACE,CACEC,MAAO1L,KAAKI,OAAOkN,8BAA+B,EAClD1G,SAAU5G,KAAKI,OAAOkN,2BAExB5H,IAAAA,WAAec,MAAM,2DAEvBE,EAAE,QAAShB,IAAAA,WAAec,MAAM,uCAChCE,EAAE,oBAAqB,CACrBxI,MAAO8B,KAAKI,OAAOmN,YAAc,GACjCnD,QAASC,IAAS,QAASrK,KAAKI,OAAOmN,YAEzC7G,EAAE,YAAahB,IAAAA,WAAec,MAAM,uCACpCE,EAAE,QAAShB,IAAAA,WAAec,MAAM,8CAChCE,EAAE,oBAAqB,CACrBxI,MAAO8B,KAAKI,OAAOoN,kBAAoB,GACvCpD,QAASC,IAAS,QAASrK,KAAKI,OAAOoN,kBAEzC9G,EAAE,YAAahB,IAAAA,WAAec,MAAM,kDAGxC,IAIG+F,CACT,EAACtG,EAED+E,2BAAA,WACE,IAAMF,EAAU,CAAC,EAEjB,IAAK,IAAI2C,KAAUzN,KAAKqJ,gBACjBrJ,KAAKqJ,gBAAgBtL,eAAe0P,KAIzC3C,EAAQ2C,GAAUzN,KAAKqJ,gBAAgBoE,GAAQ9K,MAGjD,OAAOmI,CACT,EAAC7E,EAED2E,kBAAA,SAAkBF,EAAMxM,GACtB8B,KAAKI,OAAOsJ,YAAYxL,GAAS8B,KAAKI,OAAOsJ,YAAYgB,GAEzD1K,KAAKoL,eAAeV,EACtB,EAACzE,EAED8E,sBAAA,SAAsBL,EAAMC,EAAQzM,GAClCyM,EAAOhB,QAAUzL,EACjB8B,KAAKI,OAAOsJ,YAAYgB,GAAQC,CAClC,EAAC1E,EAEDgF,uBAAA,SAAuBP,EAAMC,EAAQzM,GACnCyM,EAAOf,SAAW1L,EAClB8B,KAAKI,OAAOsJ,YAAYgB,GAAQC,CAClC,EAAC1E,EAEDmF,eAAA,SAAeV,UACN1K,KAAKI,OAAOsJ,YAAYgB,EACjC,EAACzE,EAEDsF,4BAAA,WACE,IAAMmC,EAAW,GAEjB,IAAK,IAAI9D,KAAY5J,KAAKqJ,gBACnBrJ,KAAKqJ,gBAAgBtL,eAAe6L,IAIzC8D,EAASxL,KACPwE,EAAA,UACG1G,KAAKqJ,gBAAgBO,GAAUjH,KAAK,KAAG+D,EAAEiH,MAAM3N,KAAKqJ,gBAAgBO,GAAUgE,eAKrF,OAAOlH,EAAE,KAAMgH,EACjB,EAACzH,EAEDoF,YAAA,WACErL,KAAKI,OAAOsJ,YAAY1J,KAAK6J,YAAYC,SAAW,CAClDH,QAAS3J,KAAK6J,YAAYF,UAC1BC,SAAU5J,KAAK6J,YAAYD,YAG7B5J,KAAK6J,YAAYC,MAAM,IACvB9J,KAAK6J,YAAYF,QAAQ,SACzB3J,KAAK6J,YAAYD,SAAS,OAC5B,EAEA3D,EAMAqG,QAAA,WAAU,IAAAuB,EAAA,KACFC,EAAc9N,KAAKsI,OAAOyF,MAAK,SAACpJ,GAAG,OAAKkJ,EAAKzN,OAAOuE,OAAWe,IAAAA,KAASuD,SAAS4E,EAAKzE,UAAUzE,GAAK,IACrGqJ,EAAkBhO,KAAKuI,WAAWwF,MAAK,SAACpJ,GAAG,OAAKkJ,EAAKzN,OAAOuE,QAAuD,MAA3Ce,IAAAA,KAASuD,SAAS4E,EAAKzE,UAAUzE,IAAc,IACvHsJ,EAAejO,KAAKwI,QAAQuF,MAAK,SAACpJ,GAAG,OAAK4E,KAAK2E,UAAUL,EAAKzN,OAAOuE,QAAYe,IAAAA,KAASuD,SAAS4E,EAAKzE,UAAUzE,GAAK,IAE7H,OAAOmJ,GAAeE,GAAmBC,CAC3C,EAEAhI,EAKAiE,SAAA,SAAS1M,GAAG,IAAA2Q,EAAA,KAKV,GAHA3Q,EAAE4Q,kBAGEpO,KAAKqI,QAAT,CAGArI,KAAKqI,SAAU,EAGf3C,IAAAA,OAAW2I,QAAQrO,KAAKsO,cAExB,IAAMrF,EAAW,CAAC,EAGlBjJ,KAAKsI,OAAO/H,SAAQ,SAACoE,GAAG,OAAMsE,EAASkF,EAAK/E,UAAUzE,IAAQwJ,EAAK/N,OAAOuE,IAAM,IAChF3E,KAAKuI,WAAWhI,SAAQ,SAACoE,GAAG,OAAMsE,EAASkF,EAAK/E,UAAUzE,IAAQwJ,EAAK/N,OAAOuE,IAAM,IACpF3E,KAAKwI,QAAQjI,SAAQ,SAACoE,GAAG,OAAMsE,EAASkF,EAAK/E,UAAUzE,IAAQ4E,KAAK2E,UAAUC,EAAK/N,OAAOuE,KAAO,IAGjG4J,IAAatF,GACVpI,MAAK,WAEJsN,EAAKG,aAAe5I,IAAAA,OAAW4F,KAAKkD,IAAO,CAAEnP,KAAM,WAAaqG,IAAAA,WAAec,MAAM,qCACvF,IAAE,OACK,WAAO,IACb3F,MAAK,WAEJsN,EAAK9F,SAAU,EACf3B,EAAEuB,QACJ,GA1BsB,CA2B1B,EAEAhC,EAKAmD,UAAA,SAAUzE,GACR,OAAO3E,KAAKkJ,eAAiB,IAAMvE,CACrC,EAACwD,CAAA,CA1iB4B,CAASsG,KCjBxC,MAAM,EAA+B1J,OAAOC,KAAKC,OAAO,iBCAlD,EAA+BF,OAAOC,KAAKC,OAAO,0CCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,6CCAxD,SAASyJ,IACP,OAAOA,EAAW9Q,OAAO+Q,OAAS/Q,OAAO+Q,OAAOxJ,OAAS,SAAUrH,GACjE,IAAK,IAAIN,EAAI,EAAGA,EAAIgI,UAAUjD,OAAQ/E,IAAK,CACzC,IAAIE,EAAI8H,UAAUhI,GAClB,IAAK,IAAIG,KAAKD,GAAG,CAAG,GAAEK,eAAewB,KAAK7B,EAAGC,KAAOG,EAAEH,GAAKD,EAAEC,GAC/D,CACA,OAAOG,CACT,EAAG4Q,EAASnJ,MAAM,KAAMC,UAC1B,CCRA,SAASoJ,EAAmB9Q,EAAGJ,EAAGF,EAAGG,EAAGK,EAAGK,EAAGE,GAC5C,IACE,IAAIJ,EAAIL,EAAEO,GAAGE,GACXE,EAAIN,EAAED,KACV,CAAE,MAAOJ,GACP,YAAYN,EAAEM,EAChB,CACAK,EAAE6C,KAAOtD,EAAEe,GAAKwE,QAAQtC,QAAQlC,GAAGoC,KAAKlD,EAAGK,EAC7C,CACA,SAAS6Q,EAAkB/Q,GACzB,OAAO,WACL,IAAIJ,EAAIsC,KACNxC,EAAIgI,UACN,OAAO,IAAIvC,SAAQ,SAAUtF,EAAGK,GAC9B,IAAIK,EAAIP,EAAEyH,MAAM7H,EAAGF,GACnB,SAASsR,EAAMhR,GACb8Q,EAAmBvQ,EAAGV,EAAGK,EAAG8Q,EAAOC,EAAQ,OAAQjR,EACrD,CACA,SAASiR,EAAOjR,GACd8Q,EAAmBvQ,EAAGV,EAAGK,EAAG8Q,EAAOC,EAAQ,QAASjR,EACtD,CACAgR,OAAM,EACR,GACF,CACF,uBCxBA,MAAM,EAA+B/J,OAAOC,KAAKC,OAAO,2BCAlD+J,EAAgB,IAAIC,IAAoB,CAE5C,CAAC,YAAa,qBACd,CAAC,YAAa,qBACd,CAAC,aAAc,qBACf,CAAC,gBAAiB,qBAClB,CAAC,YAAa,qBACd,CAAC,YAAa,qBACd,CAAC,aAAc,qBAGf,CAAC,kBAAmB,uBACpB,CAAC,8BAA+B,uBAChC,CAAC,mBAAoB,uBACrB,CAAC,sBAAuB,uBACxB,CAAC,+BAAgC,uBACjC,CAAC,oBAAqB,uBACtB,CAAC,8BAA+B,uBAGhC,CAAC,aAAc,mBACf,CAAC,WAAY,mBACb,CAAC,WAAY,oBACb,CAAC,YAAa,oBACd,CAAC,WAAY,oBACb,CAAC,kBAAmB,oBACpB,CAAC,mBAAoB,oBACrB,CAAC,sBAAuB,oBACxB,CAAC,0BAA2B,oBAC5B,CAAC,kBAAmB,oBACpB,CAAC,WAAY,oBAGb,CAAC,wBAAyB,oBAC1B,CAAC,qBAAsB,oBACvB,CAAC,0EAA2E,oBAC5E,CAAC,0CAA2C,oBAC5C,CAAC,2BAA4B,qBAC7B,CAAC,oEAAqE,qBACtE,CAAC,iDAAkD,qBACnD,CAAC,gCAAiC,0BAClC,CAAC,4EAA6E,0BAC9E,CAAC,kDAAmD,0BACpD,CAAC,kBAAmB,mBACpB,CAAC,kBAAmB,mBAGpB,CAAC,uBAAwB,eACzB,CAAC,iCAAkC,eACnC,CAAC,+BAAgC,eAGjC,CAAC,aAAc,qBACf,CAAC,YAAa,qBACd,CAAC,cAAe,qBAChB,CAAC,YAAa,qBACd,CAAC,YAAa,qBACd,CAAC,aAAc,qBACf,CAAC,aAAc,qBACf,CAAC,eAAgB,qBAGjB,CAAC,kBAAmB,qBACpB,CAAC,YAAa,qBACd,CAAC,kBAAmB,uBAGP,SAASC,EAAWC,GAEjC,OACEH,EAAcpK,IAAIuK,KAGZA,EAASC,WAAW,UACf,oBACED,EAASC,WAAW,UACtB,oBACED,EAASC,WAAW,UACtB,oBAIF,cAGb,CCjFqD,IAShCC,EAAqB,SAAArJ,GAAA,SAAAqJ,IAAA,QAAA9H,EAAA+H,EAAA9J,UAAAjD,OAAAgN,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAAjK,UAAAiK,GAOhB,OAPgBlI,EAAAvB,EAAAzG,KAAAgG,MAAAS,EAAA,OAAA0J,OAAAH,KAAA,MACxC5H,MAAQ,GAAEJ,EACVoI,UAAY,KAAIpI,EAChBuD,QAAU,CACR8E,QAAQ,EACRC,QAAQ,GACTtI,EACDc,SAAmB,EAAKd,CAAA,CAAAnC,EAAAiK,EAAArJ,GAAA,IAAAC,EAAAoJ,EAAAxR,UAoGZ,OApGYoI,EAExBC,OAAA,SAAOC,GACLH,EAAAnI,UAAMqI,OAAM3G,KAAC,KAAA4G,EACf,EAACF,EAEDK,UAAA,WACE,MAAO,qCACT,EAACL,EAEDM,MAAA,WACE,OAAOb,IAAAA,WAAec,MAAM,gDAC9B,EAACP,EAED6J,aAAA,SAAatS,GACXwC,KAAK+P,SAASP,MAAMQ,KAAKxS,EAAEkK,OAAOC,OACpC,EAAC1B,EAED8J,SAAA,SAASE,GAAkB,IAAAC,GACzBA,EAAClQ,KAAK2H,OAAiBzF,KAAIqD,MAAA2K,EAAID,GAC/BvJ,EAAEuB,QACJ,EAAChC,EAEDkK,WAAA,SAAW3S,GACTA,EAAE4Q,iBACF5Q,EAAE4S,iBACJ,EAACnK,EAEDoK,OAAA,SAAO7S,GACLA,EAAE4Q,iBACF5Q,EAAE4S,kBACE5S,EAAE8S,cAAgB9S,EAAE8S,aAAa3I,OACnC3H,KAAK+P,SAASP,MAAMQ,KAAKxS,EAAE8S,aAAa3I,OAE5C,EAAC1B,EAEDsK,gBAAA,WACMvQ,KAAK2P,WACP3P,KAAK2P,UAAUa,OAEnB,EAACvK,EAEDQ,QAAA,WAAU,IAAAsD,EAAA,KACR,OACErD,EAAA,OAAKJ,UAAU,cACbI,EAAA,OACEJ,UAAU,iCACV6E,QAAS,WAAF,OAAQpB,EAAKwG,iBAAiB,EACrCE,WAAYzQ,KAAKmQ,WAAWhL,KAAKnF,MACjC0Q,OAAQ1Q,KAAKqQ,OAAOlL,KAAKnF,OAExB0F,IAAAA,WAAec,MAAM,oDACtBE,EAAA,SACErH,KAAK,OACLsR,UAAQ,EACR/J,SAAU5G,KAAK8P,aAAa3K,KAAKnF,MACjC4Q,MAAO,CAAEC,QAAS,EAAGC,SAAU,WAAYnI,KAAM,WACjDoI,SAAU,SAAC5K,GACT4D,EAAK4F,UAAYxJ,EAAM6K,GACzB,KAGJtK,EAAA,OAAKJ,UAAU,+BACZtG,KAAK2H,MAAM8C,KAAI,SAACwG,GACf,IAAMC,EAAUD,EAAK5R,KAAK+P,WAAW,UACrC,OACE1I,EAAA,OAAKJ,UAAU,gBACZ4K,EAAUxK,EAAA,OAAKyK,IAAKC,IAAIC,gBAAgBJ,GAAOK,IAAKL,EAAKtO,OAAW+D,EAAA,KAAGJ,UAAW4I,EAAW+B,EAAK5R,QACnGqH,EAAA,OAAKJ,UAAU,qBAAqB2K,EAAKtO,MAEzC+D,EAACwE,IAAM,CACL5E,UAAU,uDACVoG,KAAK,eACLvB,QAAS,WACPpB,EAAKpC,MAAQoC,EAAKpC,MAAM4J,QAAO,SAAC7R,GAAC,OAAKA,IAAMuR,CAAI,GAClD,IAIR,KAEFvK,EAAA,OAAKJ,UAAU,4CACbI,EAAC+E,IAAM,CAACC,MAAO1L,KAAK8K,QAAQ+E,OAAQjJ,SAAU,SAAC1I,GAAc,OAAM6L,EAAKe,QAAQ+E,OAAS3R,CAAK,GAC3FwH,IAAAA,WAAec,MAAM,qEAG1BE,EAAA,OAAKJ,UAAU,mDACbI,EAACwE,IAAM,CACL5E,UAAU,yBACV+B,QAASrI,KAAKqI,QACd8C,QAASnL,KAAKwK,OAAOrF,KAAKnF,MAC1B8G,UAAW9G,KAAK2H,MAAMpF,QAAUvC,KAAKqI,SAEpC3C,IAAAA,WAAec,MAAM,oDAKhC,EAACP,EAEKuE,OAAM,eAAAgH,EAAA3C,EAAAxR,IAAAA,MAAZ,SAAAoU,IAAA,IAAAC,EAAAC,EAAAC,EAAA/D,EAAA,YAAAxQ,IAAAA,MAAA,SAAAwU,GAAA,cAAAA,EAAAxO,KAAAwO,EAAAnQ,MAAA,OAaK,OAZH1B,KAAKqI,SAAU,EACf3B,EAAEuB,SAEIyJ,EAAW,IAAIjK,SAGrBzH,KAAK2H,MAAMpH,SAAQ,SAAC0Q,GAClBS,EAAS9J,OAAO,UAAWqJ,EAC7B,IAEArT,OAAOsF,KAAKlD,KAAK8K,SAASvK,SAAQ,SAACoE,GACjC+M,EAAS9J,OAAO,WAAWjD,EAAG,IAAKkJ,EAAK/C,QAAQnG,GAClD,IAAGkN,EAAAnQ,KAAA,EAEmBgE,IAAAA,QAAqC,CACzDzE,OAAQ,OACR4G,IAAKnC,IAAAA,MAAUC,UAAU,UAAY,cACrCmC,UAAW,SAACC,GAAa,OAAKA,CAAG,EACjCP,KAAMkK,IACN,OALIC,EAAOE,EAAAzQ,KAOPwQ,EAAgBlM,IAAAA,MAAUoM,YAAYH,GAE5C3R,KAAK4F,MAAMmM,iBAAiBH,GAC5B5R,KAAK2H,MAAQ,GACb3H,KAAKgS,OAELhS,KAAKqI,SAAU,EACf3B,EAAEuB,SAAS,yBAAA4J,EAAArO,OAAA,GAAAiO,EAAA,UA7BD,OA8BX,WA9BW,OAAAD,EAAAjM,MAAC,KAADC,UAAA,KAAA6J,CAAA,CA3G4B,CAASnH,KCbnD,MAAM,EAA+BnD,OAAOC,KAAKC,OAAO,iCCkBnCgN,GAAY,SAAAC,GAAA,SAAAD,IAAA,QAAA1K,EAAA+H,EAAA9J,UAAAjD,OAAAgN,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAAjK,UAAAiK,GAyG9B,OAzG8BlI,EAAA2K,EAAA3S,KAAAgG,MAAA2M,EAAA,OAAAxC,OAAAH,KAAA,MAC/B0B,UAAI,EAAA1J,EACJ4K,cAAQ,EAAA5K,EACR6K,aAAuB,EA4FvB7K,EACA8K,iBAAmB,WACjB9K,EAAK6K,aAAc,EACnB1L,EAAEuB,QACJ,EAEAV,EACA+K,gBAAkB,WAChB/K,EAAK6K,aAAc,EACnB1L,EAAEuB,QACJ,EAACV,CAAA,CAAAnC,EAAA6M,EAAAC,GAAA,IAAAjM,EAAAgM,EAAApU,UAOA,OAPAoI,EApGDC,OAAA,SAAOC,GACL+L,EAAArU,UAAMqI,OAAM3G,KAAC,KAAA4G,GAEbnG,KAAKiR,KAAOjR,KAAK4F,MAAMqL,IACzB,EAAChL,EAEDsM,KAAA,WAAO,IAAAxI,EAAA,KACCmH,EAAUlR,KAAKiR,KAAK5R,OAAO+P,WAAW,UACtCoD,EAAWtD,EAAWlP,KAAKiR,KAAK5R,QAEhCoT,EAAazS,KAAKiR,KAAKyB,kBAAoB,cAAgB,gBAEjE,OACEhM,EAAA,OAAKJ,UAAU,eAAe3B,IAAK3E,KAAKiR,KAAK0B,QAC3CjM,EAAA,OAAKJ,UAAU,6BACbI,EAAA,YACGgG,IAAK+F,GACLzS,KAAKiR,KAAK2B,aAGflM,EAAA,OAAKJ,UAAU,wBAAwB6E,QAAS,WAAF,OAAQpB,EAAK8I,YAAY9I,EAAKkH,KAAK,GAC9EC,EACClR,KAAKoS,YACH1L,EAAA,OACEJ,UAAWtG,KAAK4F,MAAMkN,eACtB3B,IAAKnR,KAAKiR,KAAKpJ,MACfQ,QAAQ,OACR0K,QAAS/S,KAAKqS,iBACdW,OAAQhT,KAAKsS,gBACbhB,IAAKtR,KAAKiR,KAAK2B,aAGjBlG,IAvBQ,8BAuBQ,CAAEpG,UAAW,kBAG/BoG,IAAK8F,EAAU,CAAElM,UAAW,mBAGhCI,EAAA,OAAKJ,UAAU,yBAAyBtG,KAAKiT,cAAc5G,WAGjE,EAACpG,EAEDgN,YAAA,WAA0C,IAAApF,EAAA,KAClCtB,EAAQ,IAAIC,KAElBD,EAAME,IACJ,YACA/F,EAACwE,IAAM,CAAC5E,UAAU,sBAAsBoG,KAAK,qBAAqBvB,QAAS,WAAF,OAAQ0C,EAAKqF,cAAc,EAAE,aAAW,UAGnH3G,EAAME,IACJ,WACA/F,EAACwE,IAAM,CAAC5E,UAAU,sBAAsBoG,KAAK,kBAAkBvB,QAAS,WAAF,OAAQgI,OAAOC,KAAKvF,EAAKoD,KAAKpJ,MAAM,EAAE,aAAW,cAGzH,IAAMwL,EAAerT,KAAKiR,KAAKyB,kBAAoB,cAAgB1S,KAAKiR,KAAKpB,SAAW,aAAe,mBAKvG,OAJAtD,EAAME,IAAI,YAAa/F,EAACwE,IAAM,CAAC5E,UAAU,sBAAsBoG,KAAM2G,EAAclI,QAAS,WAAF,OAAQ0C,EAAKyF,UAAU,EAAE,aAAW,UAE9H/G,EAAME,IAAI,SAAU/F,EAACwE,IAAM,CAAC5E,UAAU,sBAAsBoG,KAAK,eAAevB,QAAS,WAAF,OAAQ0C,EAAK0F,eAAe,EAAE,aAAW,YAEzHhH,CACT,EAACtG,EAEKsN,cAAa,eAAAC,EAAA3E,EAAAxR,IAAAA,MAAnB,SAAAoU,IAAA,IAAAkB,EAAA,OAAAtV,IAAAA,MAAA,SAAAwU,GAAA,cAAAA,EAAAxO,KAAAwO,EAAAnQ,MAAA,OACoE,IAArD+R,QAAQ,8CAET,CAAF5B,EAAAnQ,KAAA,QACqB,OAAvBiR,EAAO3S,KAAKiR,KAAK0B,OAAMd,EAAAnQ,KAAA,EACvBgE,IAAAA,QAAY,CAChBzE,OAAQ,SACR4G,IAAKnC,IAAAA,MAAUC,UAAU,UAAY,sBAAwBgN,IAC7D,OAEE3S,KAAK4F,MAAM8N,UACb1T,KAAK4F,MAAM8N,SAAS1T,KAAKiR,MAC1B,wBAAAY,EAAArO,OAAA,GAAAiO,EAAA,UAZc,OAclB,WAdkB,OAAA+B,EAAAjO,MAAC,KAADC,UAAA,KAAAS,EAgBnBiN,aAAA,WAEES,QAAQC,IAAI,iBACd,EAAC3N,EAEDqN,SAAA,WAEEK,QAAQC,IAAI,YACd,EAAC3N,EAcD4M,YAAA,SAAY5B,GACNjR,KAAK4F,MAAMiO,cACb7T,KAAK4F,MAAMiO,aAAa5C,EAG5B,EAACgB,CAAA,CAhH8B,CAAS6B,KClB1C,MAAM,GAA+B/O,OAAOC,KAAKC,OAAO,yCCAxD,MAAM,GAA+BF,OAAOC,KAAKC,OAAO,4CCAxD,MAAM,GAA+BF,OAAOC,KAAKC,OAAO,2CCyBnC8O,GAAW,SAAA7B,GAAA,SAAA6B,IAAA,QAAAxM,EAAA+H,EAAA9J,UAAAjD,OAAAgN,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAAjK,UAAAiK,GAuJ7B,OAvJ6BlI,EAAA2K,EAAA3S,KAAAgG,MAAA2M,EAAA,OAAAxC,OAAAH,KAAA,MAC9ByE,kBAAY,EAAAzM,EACZ6K,aAAuB,EAAI7K,EAC3B0J,UAAI,EAAA1J,EACJiL,cAAQ,EAAAjL,EACR0M,gBAAU,EAAA1M,EACV2M,kBAAY,EAqIZ3M,EACA8K,iBAAmB,WACjB9K,EAAK6K,aAAc,EACnB7K,EAAKiL,SAAW,8BAChBjL,EAAK2M,cAAe,EACpBxN,EAAEuB,QACJ,EAEAV,EACA+K,gBAAkB,WAChB/K,EAAK6K,aAAc,EACnB1L,EAAEuB,QACJ,EAACV,CAAA,CAAAnC,EAAA2O,EAAA7B,GAAA,IAAAjM,EAAA8N,EAAAlW,UAgBkB,OAhBlBoI,EA/IDC,OAAA,SAAOC,GACL+L,EAAArU,UAAMqI,OAAM3G,KAAC,KAAA4G,GAEbnG,KAAKiR,KAAOjR,KAAK4F,MAAMqL,KACvBjR,KAAKgU,kBAA2CzP,IAA5BvE,KAAK4F,MAAMoO,cAAqChU,KAAK4F,MAAMoO,aAC/EhU,KAAKwS,SAAWtD,EAAWlP,KAAKiR,KAAK5R,QACrCW,KAAKiU,gBAAuC1P,IAA1BvE,KAAK4F,MAAMqO,YAAmCjU,KAAK4F,MAAMqO,WAC3EjU,KAAKkU,kBAA6C3P,IAA9BvE,KAAK4F,MAAMuO,gBAAsCnU,KAAK4F,MAAMuO,cAClF,EAAClO,EAEDmO,eAAA,SAAejO,GACb+L,EAAArU,UAAMuW,eAAc7U,KAAC,KAAA4G,GAGrBnG,KAAKiU,gBAAuC1P,IAA1BvE,KAAK4F,MAAMqO,YAAmCjU,KAAK4F,MAAMqO,UAC7E,EAAChO,EAEDsM,KAAA,WAAO,IAAAxI,EAAA,KACCmH,EAAUlR,KAAKiR,KAAK5R,OAAO+P,WAAW,UAEtCiF,EAAoBrU,KAAKiU,WAAa,WAAa,GAEzD,OACEvN,EAAA,OACEJ,UAAS,gBAAkB+N,EAC3B1P,IAAK3E,KAAKiR,KAAK0B,OACfxH,QAAS,WACHpB,EAAKmK,eAAiBnK,EAAKiK,eAC7BjK,EAAKkK,YAAclK,EAAKkK,WACxBlK,EAAKnE,MAAMiN,YAAY9I,EAAKkH,MAEhC,EACAnK,UAAW9G,KAAKkU,cAAgBlU,KAAKgU,cAEpChU,KAAKoS,aAAelB,EACnBxK,EAAA,OACEyK,IAAKnR,KAAKiR,KAAKpJ,MACfvB,UAAU,yBACVgO,WAAW,EACXvB,QAAS/S,KAAKqS,iBACdW,OAAQhT,KAAKsS,gBACbhB,IAAKtR,KAAKiR,KAAK2B,aAGjB5S,KAAKuU,YAAYvU,KAAKwS,UAGxB9L,EAAA,OAAKJ,UAAU,oBAAoBtG,KAAKiT,YAAYjT,KAAKiR,MAAM5E,WAE/D3F,EAAA,OAAKJ,UAAU,iBACbI,EAAC8N,KAAO,CAACC,KAAMzU,KAAKiR,KAAK2B,YACvBlM,EAAA,YAAO1G,KAAKiR,KAAK2B,cAIpB5S,KAAKgU,cACJtN,EAAA,OAAKgO,MAAM,mBAAmBC,KAAK,SAAS,aAAYjP,IAAAA,WAAec,MAAM,+CAC3EE,EAACK,IAAgB,OAK3B,EAACd,EAEDsO,YAAA,SAAY/B,GACV,OACE9L,EAAA,QACEJ,UAAU,gBACVqO,KAAK,eACL/D,MAAO,CACLgE,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,OAAQ,SAGTrI,IAAK,SAAS8F,GAGrB,EAACvM,EAEDgN,YAAA,SAAYhC,GAAwC,IAAApD,EAAA,KAC5CtB,EAAQ,IAAIC,KAElByE,EAAK+D,eACHzI,EAAME,IACJ,YACA/F,EAACwE,IAAM,CAAC5E,UAAU,sCAAsCoG,KAAK,qBAAqB,aAAW,OAAOvB,QAAS,WAAF,OAAQ0C,EAAKqF,cAAc,IACtI,KAGJ,IAAM+B,EAAchE,EAAKiE,WAAa,4CAA8C,qCAC9EC,EAAkBzP,IAAAA,WAAec,MAAMxG,KAAKiR,KAAKpB,SAAcoF,EAAW,uBAA4BA,EAAW,uBAAwB,CAC7IG,SAAUnE,EAAK2B,aAGjB3B,EAAKoE,WACH9I,EAAME,IACJ,YACA/F,EAAC8N,KAAO,CAACC,KAAMU,EAAiBrE,SAAS,UACvCpK,EAACwE,IAAM,CACL5E,UAAU,sCACVoG,KAAM1M,KAAKiR,KAAKpB,SAAW,aAAe,mBAC1C,aAAYsF,EACZrO,SAAU9G,KAAKgU,aACf7I,QAAS,SAAC3N,GAAQ,OAAKqQ,EAAKmE,KAAKxU,EAAE,KAGvC,IAGJ,IAAM8X,EAAoB5P,IAAAA,WAAec,MAAM,kDAAmD,CAAE4O,SAAUnE,EAAK2B,aAiBnH,OAfA3B,EAAKsE,aACHhJ,EAAME,IACJ,cACA/F,EAAC8N,KAAO,CAACC,KAAMa,EAAmBxE,SAAS,UACzCpK,EAACwE,IAAM,CACL5E,UAAU,sCACVoG,KAAK,eACL,aAAY4I,EACZxO,SAAU9G,KAAKgU,aACf7I,QAAS,SAAC3N,GAAa,OAAKqQ,EAAK0F,cAAc/V,EAAE,KAGrD,IAGG+O,CACT,EAACtG,EAgBDiN,aAAA,WACES,QAAQC,IAAI,iBACd,EAAC3N,EAED+L,KAAA,SAAKxU,GACHA,EAAE4S,kBAIEpQ,KAAK4F,MAAM4P,QACbxV,KAAK4F,MAAM4P,OAAOxV,KAAKiR,KAE3B,EAAChL,EAEKsN,cAAa,eAAAC,EAAA3E,EAAAxR,IAAAA,MAAnB,SAAAoU,EAAoBjU,GAAa,IAAAmV,EAAA,OAAAtV,IAAAA,MAAA,SAAAwU,GAAA,cAAAA,EAAAxO,KAAAwO,EAAAnQ,MAAA,OACX,GAApBlE,EAAE4S,mBAEEqD,QAAQgC,KAAY/P,IAAAA,WAAec,MAAM,+CAAgD,CAAE4O,SAAUpV,KAAKiR,KAAK2B,eAAiB,CAAFf,EAAAnQ,KAAA,QACnG,OAAvBiR,EAAO3S,KAAKiR,KAAK0B,OAAMd,EAAAnQ,KAAA,EACvBgE,IAAAA,QAAY,CAChBzE,OAAQ,SACR4G,IAAKnC,IAAAA,MAAUC,UAAU,UAAY,sBAAwBgN,IAC7D,OAEE3S,KAAK4F,MAAM8N,UACb1T,KAAK4F,MAAM8N,SAAS1T,KAAKiR,MAC1B,wBAAAY,EAAArO,OAAA,GAAAiO,EAAA,UAZc,OAclB,SAdkBiE,GAAA,OAAAlC,EAAAjO,MAAC,KAADC,UAAA,KAAAuO,CAAA,CAvKW,CAASD,KCEX6B,GAAgB,SAAAzD,GAAA,SAAAyD,IAAA,QAAApO,EAAA+H,EAAA9J,UAAAjD,OAAAgN,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAAjK,UAAAiK,GAMnC,OANmClI,EAAA2K,EAAA3S,KAAAgG,MAAA2M,EAAA,OAAAxC,OAAAH,KAAA,MAC5CqG,KAAoB,KAAIrO,EACxBsO,aAAO,EAAAtO,EACPuO,sBAAgB,EAAAvO,EAChBwO,qBAAe,EAAAxO,EACfyO,sBAAgB,EAAAzO,EAChB0O,eAAS,EAAA1O,CAAA,CAAAnC,EAAAuQ,EAAAzD,GAAA,IAAAjM,EAAA0P,EAAA9X,UAwIK,OAxILoI,EAQTC,OAAA,SAAOC,GACL+L,EAAArU,UAAMqI,OAAM3G,KAAC,KAAA4G,GAEbnG,KAAK6V,QAAU7V,KAAK4F,MAAMsQ,WAC1BlW,KAAK8V,iBAAmB9V,KAAK4F,MAAMkQ,kBAAoB,KACvD9V,KAAK+V,gBAAkB/V,KAAK4F,MAAMmQ,kBAAmB,EACrD/V,KAAKgW,iBAAmB,GACxBhW,KAAKiW,UAAYjW,KAAK4F,MAAMqQ,UAE5BjW,KAAKmW,cACP,EAAClQ,EAEDsM,KAAA,WAAO,IAAAxI,EAAA,KACL,OACErD,EAAA,OAAKJ,UAAU,sCAAsC,YAAU,UAE5DtG,KAAKoW,aAAgD,IAAjCpW,KAAKqW,iBAAiB9T,QACzCmE,EAAA,OAAKJ,UAAW,sBACbZ,IAAAA,WAAec,MAAM,oCAEtBE,EAACK,IAAgB,QAInB/G,KAAKoW,aAAgD,IAAjCpW,KAAKqW,iBAAiB9T,QAC1CmE,EAAA,OAAKJ,UAAU,eACbI,EAAA,KAAGJ,UAAU,oBAAoBZ,IAAAA,WAAec,MAAM,oCAI1DE,EAAA,UACG1G,KAAKqW,iBAAiB5L,KAAI,SAACwG,GAAe,IAAAqF,EAAAC,EACnC/D,EAAWtD,EAAW+B,EAAK5R,QAC3B8U,GAAiBpK,EAAK+L,kBAAmB/L,EAAKmK,aAAajD,GAE3D6B,EAAiB0D,KAAU,CAC/B,WAEa,sBAAbhE,GAAoC,sBAEpCzI,EAAKnE,MAAM6Q,eAAiB1M,EAAKnE,MAAM6Q,cAAcC,QAAiB,OAAVJ,EAACrF,EAAK0F,MAAIL,EAAI,KAAO,GAAK,sBAGlFtC,EAAejK,EAAKiM,iBAAiBY,SAAS3F,EAAK0B,QAEzD,OACEjM,EAAA,MAAI,YAAWsN,EAAcrP,IAAKsM,EAAK0B,QACrCjM,EAACqN,GAAW,CACV9C,KAAMA,EACNkD,eAAgBA,EAChBF,WAAYlK,EAAKnE,MAAM6Q,eAAiB1M,EAAKnE,MAAM6Q,cAAcC,QAAiB,OAAVH,EAACtF,EAAK0F,MAAIJ,EAAI,KAAO,EAC7FzD,eAAgBA,EAChBkB,aAAcA,EACdwB,OAAQzL,EAAKuJ,SAASnO,KAAK4E,GAC3B8I,YAAa9I,EAAK8I,YAAY1N,KAAK4E,GACnC6L,KAAM7L,EAAKnE,MAAMgQ,KACjBlC,SAAU3J,EAAK2J,SAASvO,KAAK4E,KAIrC,KAGD/J,KAAK6W,kBACJnQ,EAAA,OAAKJ,UAAW,uBACdI,EAACwE,IAAM,CAAC5E,UAAW,yBAA0BQ,SAAU9G,KAAKoW,YAAa/N,QAASrI,KAAKoW,YAAajL,QAAS,WAAF,OAAQpB,EAAK+M,UAAU,GAC/HpR,IAAAA,WAAec,MAAM,kDAMlC,EAACP,EAEDyN,SAAA,SAASzC,GACHjR,KAAK4F,MAAM8N,UACb1T,KAAK4F,MAAM8N,SAASzC,EAExB,EAEAhL,EAEA4M,YAAA,SAAY5B,GAENjR,KAAK4F,MAAMiO,aACb7T,KAAK4F,MAAMiO,aAAa5C,GAKtBjR,KAAK4F,MAAMmQ,iBACb5C,OAAOC,KAAKnC,EAAKpJ,MAGrB,EAAC5B,EAEDiO,aAAA,SAAajD,GACX,IAAM9B,EAAW8B,EAAK5R,OAGtB,OAAImQ,MAAMuH,QAAQ/W,KAAK8V,kBACd9V,KAAK8V,iBAAiBY,QAAQvH,IAAa,EAIjB,UAA1BnP,KAAK8V,iBACL3G,EAASyH,SAAS,UAIQ,UAA1B5W,KAAK8V,iBACL3G,EAASyH,SAAS,UAIQ,UAA1B5W,KAAK8V,kBACL3G,EAASyH,SAAS,SAI7B,EAEA3Q,EAMMqN,SAAQ,eAAA0D,EAAAnI,EAAAxR,IAAAA,MAAd,SAAAoU,EAAeR,GAAU,IAAA0B,EAAAsC,EAAAgC,EAAAC,EAAA/Y,EAAA,OAAAd,IAAAA,MAAA,SAAAwU,GAAA,cAAAA,EAAAxO,KAAAwO,EAAAnQ,MAAA,OACC,GAAlBiR,EAAO1B,EAAK0B,QAEd3S,KAAKgW,iBAAiBY,SAASjE,GAAO,CAAFd,EAAAnQ,KAAA,eAAAmQ,EAAAtQ,OAAA,iBAYvC,GAVDvB,KAAKgW,iBAAiB9T,KAAKyQ,GAErBsC,EAAchE,EAAKiE,WAAa,4CAA8C,sCAE1DzB,QACxBgC,KACE/P,IAAAA,WAAec,MAAMyK,EAAKpB,SAAcoF,EAAW,qBAA0BA,EAAW,qBAAsB,CAC5GG,SAAUnE,EAAK2B,eAKE,CAAFf,EAAAnQ,KAAA,gBAAAmQ,EAAAxO,KAAA,EAAAwO,EAAAnQ,KAAA,GAESgE,IAAAA,QAA8B,CACtDzE,OAAQ,QACR4G,IAAQnC,IAAAA,MAAUC,UAAU,UAAS,mBACrC6B,KAAM,CAAEmL,KAAAA,KACR,QAJIsE,EAAWpF,EAAAzQ,KAMjBsE,IAAAA,MAAUoM,YAAYmF,GACtBvQ,EAAEuB,SAEFvC,IAAAA,OAAW4F,KAAKkD,IAAO,CAAEnP,KAAM,WAAa,CAC1CqN,IAAKuE,EAAKpB,SAAW,mBAAqB,cAC1C,IACAnK,IAAAA,WAAec,MAAU,MAAJyK,GAAAA,EAAMpB,SAAcoF,EAAW,gBAAqBA,EAAW,mBAGlFjV,KAAKiW,UAAUL,OACXsB,EAAQlX,KAAKiW,UAAUtO,MAAMwP,WAAU,SAAClG,GAAU,OAAK0B,IAAS1B,EAAK0B,MAAM,IACjF3S,KAAKiW,UAAUtO,MAAMyP,OAAOF,EAAO,IACpCrF,EAAAnQ,KAAA,iBAAAmQ,EAAAxO,KAAA,GAAAwO,EAAAwF,GAAAxF,EAAA,SAEDnM,IAAAA,OAAW4F,KACTkD,IACA,CAAEnP,KAAM,SACRqG,IAAAA,WAAec,MAAU,MAAJyK,GAAAA,EAAMpB,SAAcoF,EAAW,aAAkBA,EAAW,aAAc,CAC7FG,SAAUnE,EAAK2B,cAEjB,QAIiC,OAJjCf,EAAAxO,KAAA,GAGIlF,EAAI6B,KAAKgW,iBAAiBU,QAAQ/D,GACxC3S,KAAKgW,iBAAiBoB,OAAOjZ,EAAG,GAAG0T,EAAAjO,OAAA,6BAAAiO,EAAArO,OAAA,GAAAiO,EAAA,yBAjD3B,OAoDb,SApDaiE,GAAA,OAAAsB,EAAAzR,MAAC,KAADC,UAAA,KAAAmQ,CAAA,CA9I8B,CAAS7B,KCxB1CwD,GAAU5I,EAAA,GCCS,CAC9BuD,aAAAA,GACA5C,sBAAAA,EACAkI,aCF+B,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAAjS,MAAA,KAAAC,YAAA,KAAAJ,EAAAmS,EAAAC,GAAA,IAAAvR,EAAAsR,EAAA1Z,UAwB9B,OAxB8BoI,EACxBkQ,aAAP,WAEEnW,KAAKiW,UAAUwB,QAAQzX,KAAK4F,MAAMgQ,MAAQlQ,IAAAA,QAAYkQ,MAItD5V,KAAK4V,KAAO5V,KAAKiW,UAAUL,IAC7B,EAAC3P,EAED4Q,eAAA,WACE,OAAO7W,KAAKiW,UAAUY,gBACxB,EAAC5Q,EAED6Q,SAAA,WACE9W,KAAKiW,UAAUa,UACjB,EAAC7Q,EAEDmQ,UAAA,WACE,OAAOpW,KAAKiW,UAAUG,WACxB,EAACnQ,EAEDoQ,eAAA,WACE,OAAOrW,KAAKiW,UAAUtO,KACxB,EAAC4P,CAAA,CAxB8B,CAAS5B,KFDrB,CACnBxN,WAAAA,IGLF,MAAM,GAA+BpD,OAAOC,KAAKC,OAAO,mCCAxD,MAAM,GAA+BF,OAAOC,KAAKC,OAAO,+BCEnCyS,GAAI,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAApS,MAAA,KAAAC,YAAA,KAAAJ,EAAAsS,EAAAC,GAAA,IAAA1R,EAAAyR,EAAA7Z,UAmEtB,OAnEsBoI,EACvB2M,SAAA,WACE,OAAOgF,KAAAA,UAAwB,YAAYrY,KAAKS,KAClD,EAACiG,EAEDJ,KAAA,WACE,OAAO+R,KAAAA,UAAwB,QAAQrY,KAAKS,KAC9C,EAACiG,EAED4B,IAAA,WACE,OAAO+P,KAAAA,UAAwB,OAAOrY,KAAKS,KAC7C,EAACiG,EAED4R,KAAA,WACE,OAAOD,KAAAA,UAAwB,QAAQrY,KAAKS,KAC9C,EAACiG,EAED5G,KAAA,WACE,OAAOuY,KAAAA,UAAwB,QAAQrY,KAAKS,KAC9C,EAACiG,EAED6R,UAAA,WACE,OAAOF,KAAAA,UAAwB,aAAarY,KAAKS,KACnD,EAACiG,EAED8R,UAAA,WACE,OAAOH,KAAAA,UAAgB,YAAaA,KAAAA,eAAqBrY,KAAKS,KAChE,EAACiG,EAED0M,KAAA,WACE,OAAOiF,KAAAA,UAAwB,QAAQrY,KAAKS,KAC9C,EAACiG,EAED+R,IAAA,WACE,OAAOJ,KAAAA,UAAwB,OAAOrY,KAAKS,KAC7C,EAACiG,EAED4J,OAAA,WACE,OAAO+H,KAAAA,UAAyB,UAAUrY,KAAKS,KACjD,EAACiG,EAEDgS,OAAA,WACE,OAAOL,KAAAA,UAAwB,UAAUrY,KAAKS,KAChD,EAACiG,EAEDiP,SAAA,WACE,OAAO0C,KAAAA,UAAyB,UAAUrY,KAAKS,KACjD,EAACiG,EAEDyM,gBAAA,WACE,OAAOkF,KAAAA,UAAyB,mBAAmBrY,KAAKS,KAC1D,EAACiG,EAED+O,YAAA,WACE,OAAO4C,KAAAA,UAAyB,eAAerY,KAAKS,KACtD,EAACiG,EAEDoP,QAAA,WACE,OAAOuC,KAAAA,UAAyB,WAAWrY,KAAKS,KAClD,EAACiG,EAEDsP,UAAA,WACE,OAAOqC,KAAAA,UAAyB,aAAarY,KAAKS,KACpD,EAACiG,EAEDiS,YAAA,WACE,MAAO,gBAAkBlY,KAAKmY,OAAS,IAAMnY,KAAK2W,KAAO,GAC3D,EAACe,CAAA,CAnEsB,CAASE,MCClC,WACE,IAAIQ,KAAAA,QACD3L,IAAI,QAASiL,IACbjL,IAAI,eAAgBiL,KCNnB,GAA+B3S,OAAOC,KAAKC,OAAO,6CCInCoT,GAAc,SAAAb,GAAA,SAAAa,IAAA,OAAAb,EAAAjS,MAAA,KAAAC,YAAA,KAAAJ,EAAAiT,EAAAb,GAAA,IAAAvR,EAAAoS,EAAAxa,UAmBhC,OAnBgCoI,EAC1BkQ,aAAP,WACEnW,KAAKiW,UAAUqC,aACjB,EAACrS,EAED4Q,eAAA,WACE,OAAO7W,KAAKiW,UAAUY,gBACxB,EAAC5Q,EAED6Q,SAAA,WACE9W,KAAKiW,UAAUa,UACjB,EAAC7Q,EAEDmQ,UAAA,WACE,OAAOpW,KAAKiW,UAAUG,WACxB,EAACnQ,EAEDoQ,eAAA,WACE,OAAOrW,KAAKiW,UAAUtO,KACxB,EAAC0Q,CAAA,CAnBgC,CAAS1C,ICCvB4C,GAAa,WAOhC,SAAAA,EAAYC,QAAoB,IAApBA,IAAAA,GAAuB,GAAK,KANjC5C,UAAI,OACJjO,WAAK,OACJ8Q,iBAAW,OACXpQ,aAAO,OACPmQ,iBAAW,EAGjBxY,KAAK4V,KAAO,KACZ5V,KAAK2H,MAAQ,GACb3H,KAAKyY,aAAc,EACnBzY,KAAKqI,SAAU,EACfrI,KAAKwY,YAAcA,CACrB,CAEA,IAAAvS,EAAAsS,EAAA1a,UAyHC,OAzHDoI,EAIOwR,QAAP,SAAe7B,GACTA,IAAS5V,KAAK4V,OAElB5V,KAAK4V,KAAOA,EACZ5V,KAAK2H,MAAQ,GACb3H,KAAKsY,cACP,EAACrS,EAEMyS,QAAP,WACE1Y,KAAK2H,MAAQ,GACb3H,KAAKsY,cACL5R,EAAEuB,QACJ,EAEAhC,EAKaqS,YAAW,eAAAK,EAAA9J,EAAAxR,IAAAA,MAAxB,SAAAoU,EAAyBmH,GAAc,IAAAC,EAAAC,EAAAnH,EAAA,OAAAtU,IAAAA,MAAA,SAAAwU,GAAA,cAAAA,EAAAxO,KAAAwO,EAAAnQ,MAAA,OAAI,QAAJ,IAAdkX,IAAAA,EAAiB,GACnC5Y,KAAKwY,aAAgBxY,KAAK4V,KAAI,CAAA/D,EAAAnQ,KAAA,eAAAmQ,EAAAtQ,OAAA,SAAS0B,QAAQ8V,OAAO,iBAAe,OAiBzE,OAfD/Y,KAAKqI,SAAU,EAEXwQ,EAAgB,cAChBC,EAA+B,CAAC,GAE/B9Y,KAAKwY,aAAexY,KAAK4V,KAC5BkD,EAAS,CACPvH,OAAQ,CAAEqE,KAAM5V,KAAK4V,KAAKe,MAC1BqC,KAAM,CAAEJ,OAAAA,KAGVC,EAAQ,0BACRC,EAAS,CACPE,KAAM,CAAEJ,OAAAA,KAEX/G,EAAAnQ,KAAA,EAEqBgE,IAAAA,MAAUuT,KAAaJ,EAAOC,GAAO,OAA9C,OAAPnH,EAAOE,EAAAzQ,KAAAyQ,EAAAtQ,OAAA,SAENvB,KAAKkZ,aAAavH,IAAQ,yBAAAE,EAAArO,OAAA,GAAAiO,EAAA,UAtBX,OAuBvB,SAvBuBiE,GAAA,OAAAiD,EAAApT,MAAC,KAADC,UAAA,KAyBxBS,EAGa6Q,SAAQ,eAAAqC,EAAAtK,EAAAxR,IAAAA,MAArB,SAAA+b,IAAA,OAAA/b,IAAAA,MAAA,SAAAgc,GAAA,cAAAA,EAAAhW,KAAAgW,EAAA3X,MAAA,OACsB,OAApB1B,KAAKqI,SAAU,EAAKgR,EAAA9X,OAAA,SACbvB,KAAKsY,YAAYtY,KAAK2H,MAAMpF,SAAO,wBAAA8W,EAAA7V,OAAA,GAAA4V,EAAA,UAFvB,OAGpB,WAHoB,OAAAD,EAAA5T,MAAC,KAADC,UAAA,KAAAS,EAKbiT,aAAR,SAAqBvH,GAA2D,IAAA2H,EAK9E,OAJAtZ,KAAK2H,MAAQ3H,KAAK2H,MAAM+H,OAAOiC,GAC/B3R,KAAKqI,SAAU,EACfrI,KAAKyY,cAA+B,OAAhBa,EAAC3H,EAAQ4H,UAAc,OAAPD,EAAfA,EAAiBE,SAAjBF,EAAwB5X,MAC7CgF,EAAEuB,SACK0J,CACT,EAEA1L,EAIOwT,UAAP,SAAiB9R,GACW,IAAA+R,EAAtBlK,MAAMuH,QAAQpP,IAChB+R,EAAA1Z,KAAK2H,OAAMgS,QAAOpU,MAAAmU,EAAI/R,GAEtB3H,KAAK2H,MAAMgS,QAAQhS,GAErBjB,EAAEuB,QACJ,EAEAhC,EAIO2T,eAAP,SAAsBjS,GAChB6H,MAAMuH,QAAQpP,GAChB3H,KAAK2H,MAAQ3H,KAAK2H,MAAM4J,QAAO,SAACN,GAAI,OAAMtJ,EAAMiP,SAAS3F,EAAK,IAE9DjR,KAAK2H,MAAQ3H,KAAK2H,MAAM4J,QAAO,SAACN,GAAI,OAAKA,IAAStJ,CAAK,IAGzDjB,EAAEuB,QACJ,EAEAhC,EAIO4T,SAAP,WACE,OAAO7Z,KAAK2H,MAAMpF,OAAS,CAC7B,EAEA0D,EAIOmQ,UAAP,WACE,OAAOpW,KAAKqI,OACd,EAEApC,EAIO4Q,eAAP,WACE,OAAO7W,KAAKyY,WACd,EAEAxS,EAIO6T,MAAP,WACE,OAAQ9Z,KAAK6Z,aAAe7Z,KAAKoW,WACnC,EAACmC,CAAA,CAxI+B,GCMbwB,GAAgB,SAAAC,GAAA,SAAAD,IAAA,QAAAxS,EAAA+H,EAAA9J,UAAAjD,OAAAgN,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAAjK,UAAAiK,GAG1B,OAH0BlI,EAAAyS,EAAAza,KAAAgG,MAAAyU,EAAA,OAAAtK,OAAAH,KAAA,MACnC0K,cAAwB,GAAE1S,EAC1B2S,YAAsB,EAAC3S,EACvB0O,eAAS,EAAA1O,CAAA,CAAAnC,EAAA2U,EAAAC,GAAA,IAAA/T,EAAA8T,EAAAlc,UAuER,OAvEQoI,EAETC,OAAA,SAAOC,GACL6T,EAAAnc,UAAMqI,OAAM3G,KAAC,KAAA4G,GAEbnG,KAAKiW,UAAY,IAAIsC,IAAc,EACrC,EAACtS,EAEDkU,WAAA,WACE,MAAO,CACL7T,UAAW,2BACXoG,KAAM,qBACNnG,MAAOb,IAAAA,WAAec,MAAM,yCAC5BoH,YAAalI,IAAAA,WAAec,MAAM,+CAEtC,EAACP,EAEDQ,QAAA,WACE,OACEC,EAAA,OAAKJ,UAAU,6BACbI,EAAA,KAAGJ,UAAU,YAAYZ,IAAAA,WAAec,MAAM,iDAC9CE,EAAA,WACAA,EAAA,OAAKJ,UAAU,kCAAkCtG,KAAKoa,kBAAkB/N,WACxE3F,EAAA,WACAA,EAAA,OAAKJ,UAAU,6BACbI,EAAC2R,GAAc,CAACzC,KAAMlQ,IAAAA,QAAYkQ,KAAMM,YAAY,EAAOD,UAAWjW,KAAKiW,UAAWvC,SAAU1T,KAAK0T,SAASvO,KAAKnF,SAI3H,EAACiG,EAEDoU,gBAAA,WAAkB,IAAAtQ,EAAA,KAChBrE,IAAAA,MAAU4F,KAAK+D,EAAuB,CACpC0C,iBAAkB,SAACpK,GACjBoC,EAAKuQ,eAAe3S,EACtB,GAEJ,EAAC1B,EAEDmU,gBAAA,WAA8C,IAAAvM,EAAA,KACtCtB,EAAQ,IAAIC,KAWlB,OATAD,EAAME,IAAI,UAAW/F,EAACwE,IAAM,CAAC5E,UAAU,sBAAsBoG,KAAK,cAAcvB,QAAS,WAAF,OAAQ0C,EAAK6K,SAAS,KAE7GnM,EAAME,IACJ,aACA/F,EAACwE,IAAM,CAAC5E,UAAU,SAASoG,KAAK,gBAAgBvB,QAAS,WAAF,OAAQ0C,EAAKwM,iBAAiB,GAClF3U,IAAAA,WAAec,MAAM,uDAInB+F,CACT,EAACtG,EAEDsU,gBAAA,SAAgBtJ,GAGd,OAFc,IAAIzE,IAGpB,EAACvG,EAEDqU,eAAA,SAAe3S,GACbgM,QAAQC,IAAI,kBAAmBjM,GAC/B3H,KAAKiW,UAAUwD,UAAU9R,EAC3B,EAAC1B,EAEDyS,QAAA,WACE1Y,KAAKiW,UAAUyC,SACjB,EAACzS,EAEDyN,SAAA,SAASzC,GACPjR,KAAKiW,UAAU2D,eAAe3I,EAChC,EAAC8I,CAAA,CA1EkC,CAAsDS,MCP3F,SAAe,GAAf9K,OACK+K,GAAM,EAET,IAAIrC,KAAAA,SACD3L,IAAI,eAAgB,WAAYsN,MCCrCrU,IAAAA,aAAiB+G,IAAI,cAAc,WACjC/G,IAAAA,cAAiB,IACV,cACJgV,aAAavS,GACbwS,mBACC,CACEjO,KAAM,cACNkO,MAAOlV,IAAAA,WAAec,MAAM,6CAC5BqU,WAAY,qBAEd,QACA,IAEDF,mBACC,CACEjO,KAAM,kBACNkO,MAAOlV,IAAAA,WAAec,MAAM,+CAC5BqU,WAAY,sBACZC,YAAY,GAEd,OACA,IAEDH,mBACC,CACEjO,KAAM,aACNkO,MAAOlV,IAAAA,WAAec,MAAM,wDAC5BqU,WAAY,8BAEd,WACA,IAEDF,mBACC,CACEjO,KAAM,eACNkO,MAAOlV,IAAAA,WAAec,MAAM,+DAC5BqU,WAAY,gCAEd,WACA,IAEDF,mBACC,CACEjO,KAAM,kBACNkO,MAAOlV,IAAAA,WAAec,MAAM,oDAC5BqU,WAAY,kCAEd,SAEDF,mBACC,CACEjO,KAAM,kBACNkO,MAAOlV,IAAAA,WAAec,MAAM,oDAC5BqU,WAAY,kCAEd,UCxDJJ,EAAAA,EAAAA,QAAOM,IAAAA,UAAoB,SAAS,SAAUxO,GAC5CA,EAAME,IACJ,iBACA/F,EAACsU,IAAU,CAACrU,KAAMjB,IAAAA,MAAU,gBAAiBgH,KAAK,qBAAqBnG,MAAOb,IAAAA,WAAec,MAAM,0CAChGd,IAAAA,WAAec,MAAM,+CAExB,GAEJ,GDsDF","sources":["webpack://@fof/upload/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@fof/upload/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@fof/upload/./node_modules/@babel/runtime/regenerator/index.js","webpack://@fof/upload/webpack/bootstrap","webpack://@fof/upload/webpack/runtime/compat get default export","webpack://@fof/upload/webpack/runtime/define property getters","webpack://@fof/upload/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/upload/webpack/runtime/make namespace object","webpack://@fof/upload/external root \"flarum.core.compat['admin/app']\"","webpack://@fof/upload/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@fof/upload/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/upload/external root \"flarum.core.compat['common/components/Button']\"","webpack://@fof/upload/external root \"flarum.core.compat['admin/utils/saveSettings']\"","webpack://@fof/upload/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@fof/upload/external root \"flarum.core.compat['common/components/Select']\"","webpack://@fof/upload/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@fof/upload/external root \"flarum.core.compat['admin/components/UploadImageButton']\"","webpack://@fof/upload/./src/admin/components/UploadImageButton.ts","webpack://@fof/upload/external root \"flarum.core.compat['common/utils/withAttr']\"","webpack://@fof/upload/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@fof/upload/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@fof/upload/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@fof/upload/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@fof/upload/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@fof/upload/./src/admin/components/InspectMimeModal.js","webpack://@fof/upload/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@fof/upload/external root \"flarum.core.compat['common/components/Link']\"","webpack://@fof/upload/./src/admin/components/UploadPage.js","webpack://@fof/upload/external root \"flarum.core.compat['common/extend']\"","webpack://@fof/upload/external root \"flarum.core.compat['admin/components/AdminNav']\"","webpack://@fof/upload/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@fof/upload/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@fof/upload/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@fof/upload/external root \"flarum.core.compat['common/app']\"","webpack://@fof/upload/./src/common/mimeToIcon.ts","webpack://@fof/upload/./src/common/components/UploadSharedFileModal.tsx","webpack://@fof/upload/external root \"flarum.core.compat['common/Component']\"","webpack://@fof/upload/./src/common/components/UploadedFile.tsx","webpack://@fof/upload/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@fof/upload/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@fof/upload/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@fof/upload/./src/common/components/DisplayFile.tsx","webpack://@fof/upload/./src/common/components/AbstractFIleList.tsx","webpack://@fof/upload/./src/admin/components/index.ts","webpack://@fof/upload/./src/common/components/index.ts","webpack://@fof/upload/./src/common/components/UserFileList.tsx","webpack://@fof/upload/external root \"flarum.core.compat['common/extenders']\"","webpack://@fof/upload/external root \"flarum.core.compat['common/Model']\"","webpack://@fof/upload/./src/common/models/File.ts","webpack://@fof/upload/./src/common/extend.ts","webpack://@fof/upload/external root \"flarum.core.compat['admin/components/AdminPage']\"","webpack://@fof/upload/./src/common/components/SharedFileList.tsx","webpack://@fof/upload/./src/common/states/FileListState.ts","webpack://@fof/upload/./src/admin/components/SharedUploadPage.tsx","webpack://@fof/upload/./src/admin/extend.ts","webpack://@fof/upload/./src/admin/index.ts","webpack://@fof/upload/./src/admin/extendAdminNav.tsx"],"sourcesContent":["var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/utils/saveSettings'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/UploadImageButton'];","import app from 'flarum/admin/app';\nimport FlarumUploadImageButton from 'flarum/admin/components/UploadImageButton';\n\nexport default class UploadImageButton extends FlarumUploadImageButton {\n  resourceUrl() {\n    return app.forum.attribute('apiUrl') + '/' + this.attrs.path;\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/withAttr'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","import app from 'flarum/admin/app';\nimport Modal from 'flarum/common/components/Modal';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\n\nexport default class InspectMimeModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.uploading = false;\n    this.inspection = {};\n  }\n\n  className() {\n    return 'Modal--small fof-upload-inspect-mime-modal';\n  }\n\n  title() {\n    return app.translator.trans('fof-upload.admin.inspect-mime.title');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <p>\n          {app.translator.trans('fof-upload.admin.inspect-mime.description', {\n            a: <a href=\"https://github.com/SoftCreatR/php-mime-detector\"></a>,\n          })}\n        </p>\n        <p>{app.translator.trans('fof-upload.admin.inspect-mime.select')}</p>\n        <div>\n          <input type=\"file\" onchange={this.onupload.bind(this)} disabled={this.uploading} />\n          {this.uploading ? LoadingIndicator.component() : null}\n        </div>\n        <dl>\n          <dt>{app.translator.trans('fof-upload.admin.inspect-mime.laravel-validation')}</dt>\n          <dd>\n            {typeof this.inspection.laravel_validation === 'undefined' ? (\n              <em>{app.translator.trans('fof-upload.admin.inspect-mime.no-file-selected')}</em>\n            ) : this.inspection.laravel_validation ? (\n              app.translator.trans('fof-upload.admin.inspect-mime.validation-passed')\n            ) : (\n              app.translator.trans('fof-upload.admin.inspect-mime.validation-failed', {\n                error: this.inspection.laravel_validation_error || '?',\n              })\n            )}\n          </dd>\n        </dl>\n        <dl>\n          <dt>{app.translator.trans('fof-upload.admin.inspect-mime.mime-detector')}</dt>\n          <dd>\n            {this.inspection.mime_detector ? (\n              <code>{this.inspection.mime_detector}</code>\n            ) : (\n              <em>{app.translator.trans('fof-upload.admin.inspect-mime.not-available')}</em>\n            )}\n          </dd>\n        </dl>\n        <dl>\n          <dt>{app.translator.trans('fof-upload.admin.inspect-mime.mime-fileinfo')}</dt>\n          <dd>\n            {this.inspection.php_mime ? (\n              <code>{this.inspection.php_mime}</code>\n            ) : (\n              <em>{app.translator.trans('fof-upload.admin.inspect-mime.not-available')}</em>\n            )}\n          </dd>\n        </dl>\n        <dl>\n          <dt>{app.translator.trans('fof-upload.admin.inspect-mime.guessed-extension')}</dt>\n          <dd>\n            {this.inspection.guessed_extension ? (\n              <code>{this.inspection.guessed_extension}</code>\n            ) : (\n              <em>{app.translator.trans('fof-upload.admin.inspect-mime.not-available')}</em>\n            )}\n          </dd>\n        </dl>\n      </div>\n    );\n  }\n\n  onupload(event) {\n    const body = new FormData();\n\n    for (let i = 0; i < event.target.files.length; i++) {\n      body.append('files[]', event.target.files[i]);\n    }\n\n    this.uploading = true;\n\n    return app\n      .request({\n        method: 'POST',\n        url: app.forum.attribute('apiUrl') + '/fof/upload/inspect-mime',\n        serialize: (raw) => raw,\n        body,\n      })\n      .then((result) => {\n        this.uploading = false;\n        this.inspection = result;\n        m.redraw();\n      })\n      .catch((error) => {\n        this.uploading = false;\n        this.inspection = {};\n        m.redraw();\n\n        throw error;\n      });\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","import app from 'flarum/admin/app';\nimport Button from 'flarum/common/components/Button';\nimport saveSettings from 'flarum/admin/utils/saveSettings';\nimport Alert from 'flarum/common/components/Alert';\nimport Select from 'flarum/common/components/Select';\nimport Switch from 'flarum/common/components/Switch';\nimport UploadImageButton from './UploadImageButton';\nimport withAttr from 'flarum/common/utils/withAttr';\nimport Stream from 'flarum/common/utils/Stream';\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport InspectMimeModal from './InspectMimeModal';\nimport icon from 'flarum/common/helpers/icon';\nimport Link from 'flarum/common/components/Link';\n\n/* global m */\n\nexport default class UploadPage extends ExtensionPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n    // whether we are saving the settings or not right now\n    this.loading = false;\n\n    // the fields we need to watch and to save\n    this.fields = [\n      // image\n      'resizeMaxWidth',\n      'cdnUrl',\n      'maxFileSize',\n      'whitelistedClientExtensions',\n      'composerButtonVisiblity',\n      // watermark\n      'watermark',\n      'watermarkPosition',\n      // Imgur\n      'imgurClientId',\n      // AWS\n      'awsS3Key',\n      'awsS3Secret',\n      'awsS3Bucket',\n      'awsS3Region',\n      'awsS3Endpoint',\n      'awsS3ACL',\n      'awsS3CustomUrl',\n      // QIniu\n      'qiniuKey',\n      'qiniuSecret',\n      'qiniuBucket',\n    ];\n\n    // the checkboxes we need to watch and to save.\n    this.checkboxes = ['mustResize', 'addsWatermarks', 'disableHotlinkProtection', 'disableDownloadLogging', 'awsS3UsePathStyleEndpoint'];\n\n    // fields that are objects\n    this.objects = ['mimeTypes'];\n\n    // watermark positions\n    this.watermarkPositions = {\n      'top-left': 'top-left',\n      'top-right': 'top-right',\n      'bottom-left': 'bottom-left',\n      'bottom-right': 'bottom-right',\n      center: 'center',\n      left: 'left',\n      top: 'top',\n      right: 'right',\n      bottom: 'bottom',\n    };\n\n    // Composer button options\n    this.composerButtonVisiblityOptions = {\n      both: app.translator.trans('fof-upload.admin.labels.composer_buttons.options.both'),\n      'upload-btn': app.translator.trans('fof-upload.admin.labels.composer_buttons.options.upload-btn'),\n      'media-btn': app.translator.trans('fof-upload.admin.labels.composer_buttons.options.media-btn'),\n    };\n\n    // get the saved settings from the database\n    const settings = app.data.settings;\n\n    // our package prefix (to be added to every field and checkbox in the setting table)\n    this.settingsPrefix = 'fof-upload';\n\n    // Options for the Upload methods dropdown menu.\n    this.uploadMethodOptions = settings[this.addPrefix('availableUploadMethods')] || {};\n    // Options for the Template dropdown menu.\n    this.templateOptions = settings[this.addPrefix('availableTemplates')] || {};\n    // Contains current values.\n    this.values = {};\n    // bind the values of the fields and checkboxes to the getter/setter functions\n    this.fields.forEach((key) => (this.values[key] = Stream(settings[this.addPrefix(key)])));\n    this.checkboxes.forEach((key) => (this.values[key] = Stream(settings[this.addPrefix(key)] === '1')));\n    this.objects.forEach((key) => (this.values[key] = settings[this.addPrefix(key)] ? Stream(JSON.parse(settings[this.addPrefix(key)])) : Stream()));\n\n    // Set a sane default in case no mimeTypes have been configured yet.\n    // Since 'local' (or others) can now be disabled, pick the last entry in the object for default\n    this.defaultAdap = Object.keys(this.uploadMethodOptions)[Object.keys(this.uploadMethodOptions).length - 1];\n    this.values.mimeTypes() ||\n      (this.values.mimeTypes = Stream({\n        '^image\\\\/(jpeg|png|gif|webp|avif|bmp|tiff|svg\\\\+xml)$': {\n          adapter: this.defaultAdap,\n          template: 'image-preview',\n        },\n      }));\n\n    this.newMimeType = {\n      regex: Stream(''),\n      adapter: Stream(this.defaultAdap),\n      template: Stream('file'),\n    };\n  }\n\n  /**\n   * Show the actual ImageUploadPage.\n   *\n   * @returns {*}\n   */\n  content() {\n    const max_post = app.data.settings[this.addPrefix('php_ini.post_max_size')];\n    const max_upload = app.data.settings[this.addPrefix('php_ini.upload_max_filesize')];\n    return [\n      m('.UploadPage', [\n        m('.container', [\n          m(\n            'form',\n            {\n              onsubmit: this.onsubmit.bind(this),\n            },\n            [\n              m('fieldset', [\n                m('legend', app.translator.trans('fof-upload.admin.labels.preferences.title')),\n                m('label', app.translator.trans('fof-upload.admin.labels.preferences.max_file_size')),\n                m('input.FormControl', {\n                  value: this.values.maxFileSize(),\n                  oninput: withAttr('value', this.values.maxFileSize),\n                  type: 'number',\n                  min: '0',\n                }),\n                m(\n                  '.helpText',\n                  app.translator.trans('fof-upload.admin.labels.preferences.php_ini_values', {\n                    post: max_post,\n                    upload: max_upload,\n                  })\n                ),\n                m('label', app.translator.trans('fof-upload.admin.labels.preferences.mime_types')),\n                m(\n                  '.MimeTypes--Container',\n                  Object.keys(this.values.mimeTypes()).map((mime) => {\n                    let config = this.values.mimeTypes()[mime];\n                    // Compatibility for older versions.\n                    if (typeof config !== 'object') {\n                      config = {\n                        adapter: config,\n                        template: 'file',\n                      };\n                    }\n\n                    return m('div', [\n                      m('input.FormControl.MimeTypes', {\n                        value: mime,\n                        oninput: withAttr('value', this.updateMimeTypeKey.bind(this, mime)),\n                      }),\n                      Select.component({\n                        options: this.uploadMethodOptions,\n                        onchange: this.updateMimeTypeAdapter.bind(this, mime, config),\n                        value: config.adapter || 'local',\n                      }),\n                      Select.component({\n                        options: this.getTemplateOptionsForInput(),\n                        onchange: this.updateMimeTypeTemplate.bind(this, mime, config),\n                        value: config.template || 'local',\n                      }),\n                      Button.component(\n                        {\n                          type: 'button',\n                          className: 'Button Button--warning',\n                          onclick: this.deleteMimeType.bind(this, mime),\n                        },\n                        'x'\n                      ),\n                    ]);\n                  }),\n                  m('br'),\n                  m('div', [\n                    m('input.FormControl.MimeTypes.add-MimeType-key', {\n                      value: this.newMimeType.regex(),\n                      oninput: withAttr('value', this.newMimeType.regex),\n                    }),\n                    Select.component({\n                      options: this.uploadMethodOptions,\n                      className: 'add-MimeType-value',\n                      oninput: withAttr('value', this.newMimeType.adapter),\n                      value: this.newMimeType.adapter(),\n                    }),\n                    Select.component({\n                      options: this.getTemplateOptionsForInput(),\n                      className: 'add-MimeType-value',\n                      oninput: withAttr('value', this.newMimeType.template),\n                      value: this.newMimeType.template(),\n                    }),\n                    Button.component(\n                      {\n                        type: 'button',\n                        className: 'Button Button--warning',\n                        onclick: this.addMimeType.bind(this),\n                      },\n                      '+'\n                    ),\n                  ])\n                ),\n                m('.helpText', app.translator.trans('fof-upload.admin.help_texts.mime_types')),\n                Button.component(\n                  {\n                    className: 'Button',\n                    onclick() {\n                      app.modal.show(InspectMimeModal);\n                    },\n                  },\n                  app.translator.trans('fof-upload.admin.labels.inspect-mime')\n                ),\n                m('.helpText', app.translator.trans('fof-upload.admin.help_texts.download_templates')),\n                this.templateOptionsDescriptions(),\n              ]),\n              m('fieldset.composerButtons', [\n                m('legend', app.translator.trans('fof-upload.admin.labels.composer_buttons.title')),\n                m('.helpText', app.translator.trans('fof-upload.admin.help_texts.composer_buttons')),\n                m('div', [\n                  Select.component({\n                    options: this.composerButtonVisiblityOptions,\n                    onchange: this.values.composerButtonVisiblity,\n                    value: this.values.composerButtonVisiblity() || 'both',\n                  }),\n                ]),\n              ]),\n              m('fieldset', [\n                m('legend', app.translator.trans('fof-upload.admin.labels.resize.title')),\n                m('.helpText', app.translator.trans('fof-upload.admin.help_texts.resize')),\n                Switch.component(\n                  {\n                    state: this.values.mustResize() || false,\n                    onchange: this.values.mustResize,\n                  },\n                  app.translator.trans('fof-upload.admin.labels.resize.toggle')\n                ),\n                m('label', app.translator.trans('fof-upload.admin.labels.resize.max_width')),\n                m('input', {\n                  className: 'FormControl',\n                  value: this.values.resizeMaxWidth() || 100,\n                  oninput: withAttr('value', this.values.resizeMaxWidth),\n                  disabled: !this.values.mustResize(),\n                  type: 'number',\n                  min: '0',\n                }),\n              ]),\n              m('fieldset', [\n                m('legend', app.translator.trans('fof-upload.admin.labels.client_extension.title')),\n                m('.helpText', app.translator.trans('fof-upload.admin.help_texts.client_extension')),\n                m('input', {\n                  className: 'FormControl',\n                  value: this.values.whitelistedClientExtensions() || '',\n                  oninput: withAttr('value', this.values.whitelistedClientExtensions),\n                }),\n              ]),\n              m('fieldset', [\n                m('legend', app.translator.trans('fof-upload.admin.labels.watermark.title')),\n                m('.helpText', app.translator.trans('fof-upload.admin.help_texts.watermark')),\n                Switch.component(\n                  {\n                    state: this.values.addsWatermarks() || false,\n                    onchange: this.values.addsWatermarks,\n                  },\n                  app.translator.trans('fof-upload.admin.labels.watermark.toggle')\n                ),\n                m('label', app.translator.trans('fof-upload.admin.labels.watermark.position')),\n                m('div', [\n                  Select.component({\n                    options: this.watermarkPositions,\n                    onchange: this.values.watermarkPosition,\n                    value: this.values.watermarkPosition() || 'bottom-right',\n                  }),\n                ]),\n                m('label', {}, app.translator.trans('fof-upload.admin.labels.watermark.file')),\n                UploadImageButton.component({\n                  name: 'fof-watermark',\n                  path: 'fof/watermark',\n                }),\n              ]),\n              m('fieldset', [\n                m('legend', app.translator.trans('fof-upload.admin.labels.disable-hotlink-protection.title')),\n                m('.helpText', app.translator.trans('fof-upload.admin.help_texts.disable-hotlink-protection')),\n                Switch.component(\n                  {\n                    state: this.values.disableHotlinkProtection() || false,\n                    onchange: this.values.disableHotlinkProtection,\n                  },\n                  app.translator.trans('fof-upload.admin.labels.disable-hotlink-protection.toggle')\n                ),\n                m('legend', app.translator.trans('fof-upload.admin.labels.disable-download-logging.title')),\n                m('.helpText', app.translator.trans('fof-upload.admin.help_texts.disable-download-logging')),\n                Switch.component(\n                  {\n                    state: this.values.disableDownloadLogging() || false,\n                    onchange: this.values.disableDownloadLogging,\n                  },\n                  app.translator.trans('fof-upload.admin.labels.disable-download-logging.toggle')\n                ),\n              ]),\n              m('fieldset', [\n                m('legend', app.translator.trans('fof-upload.admin.labels.local.title')),\n                m('label', app.translator.trans('fof-upload.admin.labels.local.cdn_url')),\n                m('input.FormControl', {\n                  value: this.values.cdnUrl() || '',\n                  oninput: withAttr('value', this.values.cdnUrl),\n                }),\n              ]),\n\n              this.adaptorItems().toArray(),\n\n              Button.component(\n                {\n                  type: 'submit',\n                  className: 'Button Button--primary',\n                  loading: this.loading,\n                  disabled: !this.changed(),\n                },\n                app.translator.trans('core.admin.settings.submit_button')\n              ),\n            ]\n          ),\n        ]),\n      ]),\n    ];\n  }\n\n  adaptorItems() {\n    const items = new ItemList();\n\n    if (this.uploadMethodOptions['imgur'] !== undefined) {\n      items.add(\n        'imgur',\n        <div className=\"imgur\">\n          <fieldset>\n            <legend>{app.translator.trans('fof-upload.admin.labels.imgur.title')}</legend>\n            <p>\n              {icon('fas fa-exclamation-circle')}{' '}\n              {app.translator.trans('fof-upload.admin.labels.imgur.tos', {\n                a: <Link href=\"https://imgur.com/tos\" external={true} target=\"_blank\" />,\n              })}\n            </p>\n            <label>{app.translator.trans('fof-upload.admin.labels.imgur.client_id')}</label>\n            <input className=\"FormControl\" value={this.values.imgurClientId() || ''} oninput={withAttr('value', this.values.imgurClientId)} />\n          </fieldset>\n        </div>,\n        100\n      );\n    }\n\n    if (this.uploadMethodOptions['qiniu'] !== undefined) {\n      items.add(\n        'qiniu',\n        m('.qiniu', [\n          m('fieldset', [\n            m('legend', app.translator.trans('fof-upload.admin.labels.qiniu.title')),\n            m('label', app.translator.trans('fof-upload.admin.labels.qiniu.key')),\n            m('input.FormControl', {\n              value: this.values.qiniuKey() || '',\n              oninput: withAttr('value', this.values.qiniuKey),\n            }),\n            m('label', {}, app.translator.trans('fof-upload.admin.labels.qiniu.secret')),\n            m('input.FormControl', {\n              value: this.values.qiniuSecret() || '',\n              oninput: withAttr('value', this.values.qiniuSecret),\n            }),\n            m('label', {}, app.translator.trans('fof-upload.admin.labels.qiniu.bucket')),\n            m('input.FormControl', {\n              value: this.values.qiniuBucket() || '',\n              oninput: withAttr('value', this.values.qiniuBucket),\n            }),\n          ]),\n        ]),\n        80\n      );\n    }\n\n    if (this.uploadMethodOptions['aws-s3'] !== undefined) {\n      items.add(\n        'aws-s3',\n        m('.aws', [\n          m('fieldset', [\n            m('legend', app.translator.trans('fof-upload.admin.labels.aws-s3.title')),\n            m('.helpText', app.translator.trans('fof-upload.admin.help_texts.s3_instance_profile')),\n            m('label', app.translator.trans('fof-upload.admin.labels.aws-s3.key')),\n            m('input.FormControl', {\n              value: this.values.awsS3Key() || '',\n              oninput: withAttr('value', this.values.awsS3Key),\n            }),\n            m('label', app.translator.trans('fof-upload.admin.labels.aws-s3.secret')),\n            m('input.FormControl', {\n              value: this.values.awsS3Secret() || '',\n              oninput: withAttr('value', this.values.awsS3Secret),\n            }),\n            m('label', app.translator.trans('fof-upload.admin.labels.aws-s3.bucket')),\n            m('input.FormControl', {\n              value: this.values.awsS3Bucket() || '',\n              oninput: withAttr('value', this.values.awsS3Bucket),\n            }),\n            m('label', app.translator.trans('fof-upload.admin.labels.aws-s3.region')),\n            m('input.FormControl', {\n              value: this.values.awsS3Region() || '',\n              oninput: withAttr('value', this.values.awsS3Region),\n            }),\n          ]),\n          m('fieldset', [\n            m('legend', app.translator.trans('fof-upload.admin.labels.aws-s3.advanced_title')),\n            m('.helpText', app.translator.trans('fof-upload.admin.help_texts.s3_compatible_storage')),\n            m('label', app.translator.trans('fof-upload.admin.labels.aws-s3.endpoint')),\n            m('input.FormControl', {\n              value: this.values.awsS3Endpoint() || '',\n              oninput: withAttr('value', this.values.awsS3Endpoint),\n            }),\n            Switch.component(\n              {\n                state: this.values.awsS3UsePathStyleEndpoint() || false,\n                onchange: this.values.awsS3UsePathStyleEndpoint,\n              },\n              app.translator.trans('fof-upload.admin.labels.aws-s3.use_path_style_endpoint')\n            ),\n            m('label', app.translator.trans('fof-upload.admin.labels.aws-s3.acl')),\n            m('input.FormControl', {\n              value: this.values.awsS3ACL() || '',\n              oninput: withAttr('value', this.values.awsS3ACL),\n            }),\n            m('.helpText', app.translator.trans('fof-upload.admin.help_texts.s3_acl')),\n            m('label', app.translator.trans('fof-upload.admin.labels.aws-s3.custom_url')),\n            m('input.FormControl', {\n              value: this.values.awsS3CustomUrl() || '',\n              oninput: withAttr('value', this.values.awsS3CustomUrl),\n            }),\n            m('.helpText', app.translator.trans('fof-upload.admin.help_texts.custom_s3_url')),\n          ]),\n        ]),\n        60\n      );\n    }\n\n    return items;\n  }\n\n  getTemplateOptionsForInput() {\n    const options = {};\n\n    for (let option in this.templateOptions) {\n      if (!this.templateOptions.hasOwnProperty(option)) {\n        continue;\n      }\n\n      options[option] = this.templateOptions[option].name;\n    }\n\n    return options;\n  }\n\n  updateMimeTypeKey(mime, value) {\n    this.values.mimeTypes()[value] = this.values.mimeTypes()[mime];\n\n    this.deleteMimeType(mime);\n  }\n\n  updateMimeTypeAdapter(mime, config, value) {\n    config.adapter = value;\n    this.values.mimeTypes()[mime] = config;\n  }\n\n  updateMimeTypeTemplate(mime, config, value) {\n    config.template = value;\n    this.values.mimeTypes()[mime] = config;\n  }\n\n  deleteMimeType(mime) {\n    delete this.values.mimeTypes()[mime];\n  }\n\n  templateOptionsDescriptions() {\n    const children = [];\n\n    for (let template in this.templateOptions) {\n      if (!this.templateOptions.hasOwnProperty(template)) {\n        continue;\n      }\n\n      children.push(\n        <li>\n          {this.templateOptions[template].name}: {m.trust(this.templateOptions[template].description)}\n        </li>\n      );\n    }\n\n    return m('ul', children);\n  }\n\n  addMimeType() {\n    this.values.mimeTypes()[this.newMimeType.regex()] = {\n      adapter: this.newMimeType.adapter(),\n      template: this.newMimeType.template(),\n    };\n\n    this.newMimeType.regex('');\n    this.newMimeType.adapter('local');\n    this.newMimeType.template('file');\n  }\n\n  /**\n   * Checks if the values of the fields and checkboxes are different from\n   * the ones stored in the database\n   *\n   * @returns boolean\n   */\n  changed() {\n    const fieldsCheck = this.fields.some((key) => this.values[key]() !== app.data.settings[this.addPrefix(key)]);\n    const checkboxesCheck = this.checkboxes.some((key) => this.values[key]() !== (app.data.settings[this.addPrefix(key)] === '1'));\n    const objectsCheck = this.objects.some((key) => JSON.stringify(this.values[key]()) !== app.data.settings[this.addPrefix(key)]);\n\n    return fieldsCheck || checkboxesCheck || objectsCheck;\n  }\n\n  /**\n   * Saves the settings to the database and redraw the page\n   *\n   * @param e\n   */\n  onsubmit(e) {\n    // prevent the usual form submit behaviour\n    e.preventDefault();\n\n    // if the page is already saving, do nothing\n    if (this.loading) return;\n\n    // prevents multiple savings\n    this.loading = true;\n\n    // remove previous success popup\n    app.alerts.dismiss(this.successAlert);\n\n    const settings = {};\n\n    // gets all the values from the form\n    this.fields.forEach((key) => (settings[this.addPrefix(key)] = this.values[key]()));\n    this.checkboxes.forEach((key) => (settings[this.addPrefix(key)] = this.values[key]()));\n    this.objects.forEach((key) => (settings[this.addPrefix(key)] = JSON.stringify(this.values[key]())));\n\n    // actually saves everything in the database\n    saveSettings(settings)\n      .then(() => {\n        // on success, show popup\n        this.successAlert = app.alerts.show(Alert, { type: 'success' }, app.translator.trans('core.admin.settings.saved_message'));\n      })\n      .catch(() => {})\n      .then(() => {\n        // return to the initial state and redraw the page\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  /**\n   * Adds the prefix `this.settingsPrefix` at the beginning of `key`\n   *\n   * @returns string\n   */\n  addPrefix(key) {\n    return this.settingsPrefix + '.' + key;\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/AdminNav'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/app'];","const mimeToIconMap = new Map<string, string>([\n  // Image formats\n  ['image/png', 'far fa-file-image'],\n  ['image/jpg', 'far fa-file-image'],\n  ['image/jpeg', 'far fa-file-image'],\n  ['image/svg+xml', 'far fa-file-image'],\n  ['image/gif', 'far fa-file-image'],\n  ['image/bmp', 'far fa-file-image'],\n  ['image/webp', 'far fa-file-image'],\n\n  // Compressed file formats\n  ['application/zip', 'far fa-file-archive'],\n  ['application/x-7z-compressed', 'far fa-file-archive'],\n  ['application/gzip', 'far fa-file-archive'],\n  ['application/vnd.rar', 'far fa-file-archive'],\n  ['application/x-rar-compressed', 'far fa-file-archive'],\n  ['application/x-tar', 'far fa-file-archive'],\n  ['application/x-iso9660-image', 'far fa-file-archive'],\n\n  // Text and code file formats\n  ['text/plain', 'far fa-file-alt'],\n  ['text/csv', 'far fa-file-csv'],\n  ['text/xml', 'far fa-file-code'],\n  ['text/html', 'far fa-file-code'],\n  ['text/css', 'far fa-file-code'],\n  ['text/javascript', 'far fa-file-code'],\n  ['application/json', 'far fa-file-code'],\n  ['application/ld+json', 'far fa-file-code'],\n  ['application/x-httpd-php', 'far fa-file-code'],\n  ['application/xml', 'far fa-file-code'],\n  ['text/xml', 'far fa-file-code'],\n\n  // Document formats\n  ['application/x-abiword', 'far fa-file-word'],\n  ['application/msword', 'far fa-file-word'],\n  ['application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'far fa-file-word'],\n  ['application/vnd.oasis.opendocument.text', 'far fa-file-word'],\n  ['application/vnd.ms-excel', 'far fa-file-excel'],\n  ['application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 'far fa-file-excel'],\n  ['application/vnd.oasis.opendocument.spreadsheet', 'far fa-file-excel'],\n  ['application/vnd.ms-powerpoint', 'far fa-file-powerpoint'],\n  ['application/vnd.openxmlformats-officedocument.presentationml.presentation', 'far fa-file-powerpoint'],\n  ['application/vnd.oasis.opendocument.presentation', 'far fa-file-powerpoint'],\n  ['application/pdf', 'far fa-file-pdf'],\n  ['application/rtf', 'far fa-file-alt'],\n\n  // eBook formats\n  ['application/epub+zip', 'far fa-book'],\n  ['application/x-mobipocket-ebook', 'far fa-book'],\n  ['application/vnd.amazon.ebook', 'far fa-book'],\n\n  // Audio formats\n  ['audio/mpeg', 'far fa-file-audio'],\n  ['audio/wav', 'far fa-file-audio'],\n  ['audio/x-wav', 'far fa-file-audio'],\n  ['audio/aac', 'far fa-file-audio'],\n  ['audio/ogg', 'far fa-file-audio'],\n  ['audio/flac', 'far fa-file-audio'],\n  ['audio/aiff', 'far fa-file-audio'],\n  ['audio/x-aiff', 'far fa-file-audio'],\n\n  // Video formats\n  ['video/x-msvideo', 'far fa-file-video'],\n  ['video/mp4', 'far fa-file-video'],\n  ['video/quicktime', 'far fa-file-video'],\n]);\n\nexport default function mimeToIcon(fileType: string): string {\n  // Directly return the icon if the fileType is in the map\n  return (\n    mimeToIconMap.get(fileType) ||\n    (function () {\n      // Check for generic types\n      if (fileType.startsWith('image/')) {\n        return 'far fa-file-image';\n      } else if (fileType.startsWith('video/')) {\n        return 'far fa-file-video';\n      } else if (fileType.startsWith('audio/')) {\n        return 'far fa-file-audio';\n      }\n\n      // Default icon\n      return 'far fa-file';\n    })()\n  );\n}\n","import app from 'flarum/common/app';\nimport Modal, { IInternalModalAttrs } from 'flarum/common/components/Modal';\nimport Switch from 'flarum/common/components/Switch';\nimport mimeToIcon from '../mimeToIcon';\nimport Button from 'flarum/common/components/Button';\nimport type Mithril from 'mithril';\nimport { ApiResponsePlural } from 'flarum/common/Store';\nimport File from '../models/File';\n\ninterface CustomAttrs extends IInternalModalAttrs {\n  onUploadComplete: (files: File | File[]) => void;\n}\n\nexport default class UploadSharedFileModal extends Modal<CustomAttrs> {\n  files = [];\n  fileInput = null;\n  options = {\n    shared: true,\n    hidden: false,\n  };\n  loading: boolean = false;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n  }\n\n  className() {\n    return 'UploadSharedFileModal Modal--medium';\n  }\n\n  title() {\n    return app.translator.trans('fof-upload.lib.upload-shared-file-modal.title');\n  }\n\n  onFileChange(e) {\n    this.addFiles(Array.from(e.target.files));\n  }\n\n  addFiles(newFiles: File[]) {\n    (this.files as File[]).push(...newFiles);\n    m.redraw();\n  }\n\n  onDragOver(e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  onDrop(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.dataTransfer && e.dataTransfer.files) {\n      this.addFiles(Array.from(e.dataTransfer.files));\n    }\n  }\n\n  onDropzoneClick() {\n    if (this.fileInput) {\n      this.fileInput.click();\n    }\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div\n          className=\"UploadSharedFileModal-dropzone\"\n          onclick={() => this.onDropzoneClick()}\n          ondragover={this.onDragOver.bind(this)}\n          ondrop={this.onDrop.bind(this)}\n        >\n          {app.translator.trans('fof-upload.lib.upload-shared-file-modal.dropzone')}\n          <input\n            type=\"file\"\n            multiple\n            onchange={this.onFileChange.bind(this)}\n            style={{ opacity: 0, position: 'absolute', left: '-9999px' }}\n            oncreate={(vnode) => {\n              this.fileInput = vnode.dom;\n            }}\n          />\n        </div>\n        <div className=\"UploadSharedFileModal-files\">\n          {this.files.map((file: File) => {\n            const isImage = file.type.startsWith('image/');\n            return (\n              <div className=\"UploadedFile\">\n                {isImage ? <img src={URL.createObjectURL(file)} alt={file.name} /> : <i className={mimeToIcon(file.type)}></i>}\n                <div className=\"UploadedFile-name\">{file.name}</div>\n                {/* Remove button */}\n                <Button\n                  className=\"Button Button--icon Button--link UploadedFile-remove\"\n                  icon=\"fas fa-times\"\n                  onclick={() => {\n                    this.files = this.files.filter((f) => f !== file);\n                  }}\n                />\n              </div>\n            );\n          })}\n        </div>\n        <div className=\"UploadSharedFileModal-options Form-group\">\n          <Switch state={this.options.hidden} onchange={(value: boolean) => (this.options.hidden = value)}>\n            {app.translator.trans('fof-upload.lib.upload-shared-file-modal.hide-from-media-gallery')}\n          </Switch>\n        </div>\n        <div className=\"UploadSharedFileModal-submit App-primaryControl\">\n          <Button\n            className=\"Button Button--primary\"\n            loading={this.loading}\n            onclick={this.upload.bind(this)}\n            disabled={!this.files.length || this.loading}\n          >\n            {app.translator.trans('fof-upload.lib.upload-shared-file-modal.upload')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  async upload() {\n    this.loading = true;\n    m.redraw();\n\n    const formData = new FormData();\n\n    // Append each file to the form data\n    this.files.forEach((file) => {\n      formData.append('files[]', file);\n    });\n\n    Object.keys(this.options).forEach((key) => {\n      formData.append(`options[${key}]`, this.options[key]);\n    });\n\n    const results = await app.request<ApiResponsePlural<File>>({\n      method: 'POST',\n      url: app.forum.attribute('apiUrl') + '/fof/upload',\n      serialize: (raw: FormData) => raw, // Prevent mithril from trying to serialize FormData\n      body: formData,\n    });\n\n    const uploadedFiles = app.store.pushPayload(results);\n\n    this.attrs.onUploadComplete(uploadedFiles);\n    this.files = [];\n    this.hide();\n\n    this.loading = false;\n    m.redraw();\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","import Component, { ComponentAttrs } from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport type Mithril from 'mithril';\nimport mimeToIcon from '../mimeToIcon';\nimport File from '../models/File';\nimport icon from 'flarum/common/helpers/icon';\nimport app from 'flarum/common/app';\nimport classList from 'flarum/common/utils/classList';\n\ninterface CustomAttrs extends ComponentAttrs {\n  file: File;\n  selectable: boolean;\n  fileClassNames: string;\n  onDelete: (file: File) => void | undefined;\n  onFileSelect: (file: File) => void | undefined;\n}\n\nexport default class UploadedFile extends Component<CustomAttrs> {\n  file!: File;\n  callback!: () => void | undefined;\n  imageLoaded: boolean = true;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.file = this.attrs.file;\n  }\n\n  view() {\n    const isImage = this.file.type().startsWith('image/');\n    const fileIcon = mimeToIcon(this.file.type());\n    const errorIcon = 'fas fa-exclamation-triangle';\n    const statusIcon = this.file.isPrivateShared() ? 'fas fa-lock' : 'fas fa-unlock';\n\n    return (\n      <div className=\"UploadedFile\" key={this.file.uuid()}>\n        <div className=\"UploadedFile--sharestatus\">\n          <span>\n            {icon(statusIcon)}\n            {this.file.baseName()}\n          </span>\n        </div>\n        <div className=\"UploadedFile--preview\" onclick={() => this.onFileClick(this.file)}>\n          {isImage ? (\n            this.imageLoaded ? (\n              <img\n                className={this.attrs.fileClassNames}\n                src={this.file.url()}\n                loading=\"lazy\"\n                onerror={this.handleImageError}\n                onload={this.handleImageLoad}\n                alt={this.file.baseName()}\n              />\n            ) : (\n              icon(errorIcon, { className: 'icon-fallback' }) // Error icon for failed image load\n            )\n          ) : (\n            icon(fileIcon, { className: 'icon-fallback' }) // Icon representing the file type\n          )}\n        </div>\n        <div className=\"UploadedFile--actions\">{this.actionItems().toArray()}</div>\n      </div>\n    );\n  }\n\n  actionItems(): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'view-info',\n      <Button className=\"Button Button--icon\" icon=\"fas fa-info-circle\" onclick={() => this.viewFileInfo()} aria-label=\"info\" />\n    );\n\n    items.add(\n      'download',\n      <Button className=\"Button Button--icon\" icon=\"fas fa-download\" onclick={() => window.open(this.file.url())} aria-label=\"download\" />\n    );\n\n    const hideFileIcon = this.file.isPrivateShared() ? 'fas fa-lock' : this.file.hidden() ? 'fas fa-eye' : 'fas fa-eye-slash';\n    items.add('hide-file', <Button className=\"Button Button--icon\" icon={hideFileIcon} onclick={() => this.hideFile()} aria-label=\"hide\" />);\n\n    items.add('delete', <Button className=\"Button Button--icon\" icon=\"fas fa-trash\" onclick={() => this.confirmDelete()} aria-label=\"delete\" />);\n\n    return items;\n  }\n\n  async confirmDelete() {\n    let result = confirm('Are you sure you want to delete this file?');\n\n    if (result) {\n      const uuid = this.file.uuid();\n      await app.request({\n        method: 'DELETE',\n        url: app.forum.attribute('apiUrl') + '/fof/upload/delete/' + uuid,\n      });\n\n      if (this.attrs.onDelete) {\n        this.attrs.onDelete(this.file);\n      }\n    }\n  }\n\n  viewFileInfo() {\n    // TODO:\n    console.log('view file info');\n  }\n\n  hideFile() {\n    // TODO:\n    console.log('hide file');\n  }\n\n  // Function to call when image fails to load\n  handleImageError = () => {\n    this.imageLoaded = false;\n    m.redraw();\n  };\n\n  // Function to call when image loads successfully\n  handleImageLoad = () => {\n    this.imageLoaded = true;\n    m.redraw();\n  };\n\n  onFileClick(file: File) {\n    if (this.attrs.onFileSelect) {\n      this.attrs.onFileSelect(file);\n      return;\n    }\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","import app from 'flarum/common/app';\nimport Component, { ComponentAttrs } from 'flarum/common/Component';\nimport File from '../models/File';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Button from 'flarum/common/components/Button';\nimport icon from 'flarum/common/helpers/icon';\nimport mimeToIcon from '../mimeToIcon';\nimport User from 'flarum/common/models/User';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport type Mithril from 'mithril';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport extractText from 'flarum/common/utils/extractText';\n\ninterface CustomAttrs extends ComponentAttrs {\n  file: File;\n  fileSelectable: boolean;\n  isSelected: boolean;\n  fileClassNames: string;\n  isFileHiding: boolean;\n  onHide: (file: File) => void | undefined;\n  onFileClick: (file: File) => void | undefined;\n  onDelete: (file: File) => void | undefined;\n  user: User;\n}\n\nexport default class DisplayFile extends Component<CustomAttrs> {\n  isFileHiding!: boolean;\n  imageLoaded: boolean = true;\n  file!: File;\n  fileIcon!: string;\n  isSelected!: boolean;\n  isSelectable!: boolean;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.file = this.attrs.file;\n    this.isFileHiding = this.attrs.isFileHiding === undefined ? false : this.attrs.isFileHiding;\n    this.fileIcon = mimeToIcon(this.file.type());\n    this.isSelected = this.attrs.isSelected === undefined ? false : this.attrs.isSelected;\n    this.isSelectable = this.attrs.fileSelectable === undefined ? true : this.attrs.fileSelectable;\n  }\n\n  onbeforeupdate(vnode: Mithril.VnodeDOM<CustomAttrs, this>): void {\n    super.onbeforeupdate(vnode);\n\n    // Make sure the isSelected property is updated\n    this.isSelected = this.attrs.isSelected === undefined ? false : this.attrs.isSelected;\n  }\n\n  view() {\n    const isImage = this.file.type().startsWith('image/');\n\n    const fileSelectedClass = this.isSelected ? 'selected' : '';\n\n    return (\n      <div\n        className={`UploadedFile ${fileSelectedClass}`}\n        key={this.file.uuid()}\n        onclick={() => {\n          if (this.isSelectable && !this.isFileHiding) {\n            this.isSelected = !this.isSelected;\n            this.attrs.onFileClick(this.file);\n          }\n        }}\n        disabled={!this.isSelectable || this.isFileHiding}\n      >\n        {this.imageLoaded && isImage ? (\n          <img\n            src={this.file.url()}\n            className=\"fof-file-image-preview\"\n            draggable={false}\n            onerror={this.handleImageError}\n            onload={this.handleImageLoad}\n            alt={this.file.baseName()}\n          />\n        ) : (\n          this.displayIcon(this.fileIcon)\n        )}\n\n        <div className=\"fof-file-actions\">{this.actionItems(this.file).toArray()}</div>\n\n        <div className=\"fof-file-name\">\n          <Tooltip text={this.file.baseName()}>\n            <span>{this.file.baseName()}</span>\n          </Tooltip>\n        </div>\n\n        {this.isFileHiding && (\n          <div class=\"fof-file-loading\" role=\"status\" aria-label={app.translator.trans('fof-upload.lib.file_list.hide_file.loading')}>\n            <LoadingIndicator />\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  displayIcon(fileIcon: string): Mithril.Children {\n    return (\n      <span\n        className=\"fof-file-icon\"\n        role=\"presentation\"\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '100%', // Ensure the container takes up the necessary space\n        }}\n      >\n        {icon(`fa-fw ${fileIcon}`)}\n      </span>\n    );\n  }\n\n  actionItems(file: File): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n\n    file.canViewInfo() &&\n      items.add(\n        'view-info',\n        <Button className=\"Button Button--icon fof-file-action\" icon=\"fas fa-info-circle\" aria-label=\"info\" onclick={() => this.viewFileInfo()} />,\n        100\n      );\n\n    const transPrefix = file.isShared() ? 'fof-upload.lib.file_list.hide_shared_file' : 'fof-upload.lib.file_list.hide_file';\n    const hideTranslation = app.translator.trans(this.file.hidden() ? `${transPrefix}.btn_a11y_label_show` : `${transPrefix}.btn_a11y_label_hide`, {\n      fileName: file.baseName(),\n    });\n\n    file.canHide() &&\n      items.add(\n        'hide-file',\n        <Tooltip text={hideTranslation} position=\"bottom\">\n          <Button\n            className=\"Button Button--icon fof-file-action\"\n            icon={this.file.hidden() ? 'fas fa-eye' : 'fas fa-eye-slash'}\n            aria-label={hideTranslation}\n            disabled={this.isFileHiding}\n            onclick={(e: Event) => this.hide(e)}\n          />\n        </Tooltip>,\n        80\n      );\n\n    const deleteTranslation = app.translator.trans('fof-upload.lib.file_list.delete_file_a11y_label', { fileName: file.baseName() });\n\n    file.canDelete() &&\n      items.add(\n        'delete-file',\n        <Tooltip text={deleteTranslation} position=\"bottom\">\n          <Button\n            className=\"Button Button--icon fof-file-action\"\n            icon=\"fas fa-trash\"\n            aria-label={deleteTranslation}\n            disabled={this.isFileHiding}\n            onclick={(e: MouseEvent) => this.confirmDelete(e)}\n          />\n        </Tooltip>,\n        60\n      );\n\n    return items;\n  }\n\n  // Function to call when image fails to load\n  handleImageError = () => {\n    this.imageLoaded = false;\n    this.fileIcon = 'fas fa-exclamation-triangle';\n    this.isSelectable = false;\n    m.redraw();\n  };\n\n  // Function to call when image loads successfully\n  handleImageLoad = () => {\n    this.imageLoaded = true;\n    m.redraw();\n  };\n\n  viewFileInfo() {\n    console.log('view file info');\n  }\n\n  hide(e: Event) {\n    e.stopPropagation();\n\n    // TODO: local logic, then:\n\n    if (this.attrs.onHide) {\n      this.attrs.onHide(this.file);\n    }\n  }\n\n  async confirmDelete(e: MouseEvent) {\n    e.stopPropagation();\n\n    if (confirm(extractText(app.translator.trans('fof-upload.lib.file_list.delete_confirmation', { fileName: this.file.baseName() })))) {\n      const uuid = this.file.uuid();\n      await app.request({\n        method: 'DELETE',\n        url: app.forum.attribute('apiUrl') + '/fof/upload/delete/' + uuid,\n      });\n\n      if (this.attrs.onDelete) {\n        this.attrs.onDelete(this.file);\n      }\n    }\n  }\n}\n","import app from 'flarum/common/app';\nimport Component, { ComponentAttrs } from 'flarum/common/Component';\nimport File from '../models/File';\nimport type Mithril from 'mithril';\nimport User from 'flarum/common/models/User';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport mimeToIcon from '../mimeToIcon';\nimport classList from 'flarum/common/utils/classList';\nimport Button from 'flarum/common/components/Button';\nimport DisplayFile from './DisplayFile';\nimport Alert from 'flarum/common/components/Alert';\nimport extractText from 'flarum/common/utils/extractText';\nimport FileListState from '../states/FileListState';\nimport { ApiPayloadSingle } from 'flarum/common/Store';\nimport icon from 'flarum/common/helpers/icon';\n\nexport interface FileListAttrs extends ComponentAttrs {\n  user: User | null;\n  selectable: boolean;\n  restrictFileType: string | string[];\n  selectedFiles: string[];\n  downloadOnClick: boolean;\n  onFileSelect: (file: File) => void | undefined;\n  onDelete: (file: File) => void | undefined;\n  fileState: FileListState;\n}\n\nexport default abstract class AbstractFileList extends Component<FileListAttrs> {\n  user: User | null = null;\n  inModal!: boolean;\n  restrictFileType!: string | string[] | null;\n  downloadOnClick!: boolean;\n  filesBeingHidden!: string[];\n  fileState!: FileListState;\n\n  public abstract loadFileList(): void;\n  abstract hasMoreResults(): boolean;\n  abstract loadMore(): void;\n  abstract isLoading(): boolean;\n  abstract fileCollection(): File[];\n\n  oninit(vnode: Mithril.Vnode<FileListAttrs, this>) {\n    super.oninit(vnode);\n\n    this.inModal = this.attrs.selectable;\n    this.restrictFileType = this.attrs.restrictFileType || null;\n    this.downloadOnClick = this.attrs.downloadOnClick || false;\n    this.filesBeingHidden = [];\n    this.fileState = this.attrs.fileState;\n\n    this.loadFileList();\n  }\n\n  view() {\n    return (\n      <div className=\"SharedFileList fof-upload-file-list\" aria-live=\"polite\">\n        {/* Loading */}\n        {this.isLoading() && this.fileCollection().length === 0 && (\n          <div className={'fof-upload-loading'}>\n            {app.translator.trans('fof-upload.lib.file_list.loading')}\n\n            <LoadingIndicator />\n          </div>\n        )}\n        {/* Empty file list */}\n        {!this.isLoading() && this.fileCollection().length === 0 && (\n          <div className=\"Placeholder\">\n            <p className=\"fof-upload-empty\">{app.translator.trans('fof-upload.lib.file_list.empty')}</p>\n          </div>\n        )}\n        {/* File list */}\n        <ul>\n          {this.fileCollection().map((file: File) => {\n            const fileIcon = mimeToIcon(file.type());\n            const fileSelectable = this.restrictFileType ? this.isSelectable(file) : true;\n\n            const fileClassNames = classList([\n              'fof-file',\n              // File is image\n              fileIcon === 'far fa-file-image' && 'fof-file-type-image',\n              // File is selected\n              this.attrs.selectedFiles && this.attrs.selectedFiles.indexOf(file.id() ?? '') >= 0 && 'fof-file-selected',\n            ]);\n\n            const isFileHiding = this.filesBeingHidden.includes(file.uuid());\n\n            return (\n              <li aria-busy={isFileHiding} key={file.uuid()}>\n                <DisplayFile\n                  file={file}\n                  fileSelectable={fileSelectable}\n                  isSelected={this.attrs.selectedFiles && this.attrs.selectedFiles.indexOf(file.id() ?? '') >= 0}\n                  fileClassNames={fileClassNames}\n                  isFileHiding={isFileHiding}\n                  onHide={this.hideFile.bind(this)}\n                  onFileClick={this.onFileClick.bind(this)}\n                  user={this.attrs.user}\n                  onDelete={this.onDelete.bind(this)}\n                />\n              </li>\n            );\n          })}\n        </ul>\n        {/* Load more files */}\n        {this.hasMoreResults() && (\n          <div className={'fof-load-more-files'}>\n            <Button className={'Button Button--primary'} disabled={this.isLoading()} loading={this.isLoading()} onclick={() => this.loadMore()}>\n              {app.translator.trans('fof-upload.lib.file_list.load_more_files_btn')}\n            </Button>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  onDelete(file: File) {\n    if (this.attrs.onDelete) {\n      this.attrs.onDelete(file);\n    }\n  }\n\n  // Common methods like onFileClick, isSelectable, hideFile...\n\n  onFileClick(file: File) {\n    // Custom functionality\n    if (this.attrs.onFileSelect) {\n      this.attrs.onFileSelect(file);\n      return;\n    }\n\n    // Download on click\n    if (this.attrs.downloadOnClick) {\n      window.open(file.url());\n      return;\n    }\n  }\n\n  isSelectable(file: File) {\n    const fileType = file.type();\n\n    // Custom defined file types\n    if (Array.isArray(this.restrictFileType)) {\n      return this.restrictFileType.indexOf(fileType) >= 0;\n    }\n\n    // Image\n    else if (this.restrictFileType === 'image') {\n      return fileType.includes('image/');\n    }\n\n    // Audio\n    else if (this.restrictFileType === 'audio') {\n      return fileType.includes('audio/');\n    }\n\n    // Video\n    else if (this.restrictFileType === 'video') {\n      return fileType.includes('video/');\n    }\n\n    return false;\n  }\n\n  /**\n   * Begins the hiding process for a file.\n   *\n   * - Shows a native confirmation dialog\n   * - If confirmed, sends AJAX request to the hide file API\n   */\n  async hideFile(file: File) {\n    const uuid = file.uuid();\n\n    if (this.filesBeingHidden.includes(uuid)) return;\n\n    this.filesBeingHidden.push(uuid);\n\n    const transPrefix = file.isShared() ? 'fof-upload.lib.file_list.hide_shared_file' : 'fof-upload.lib.file_list.hide_file';\n\n    const confirmToggleHide = confirm(\n      extractText(\n        app.translator.trans(file.hidden() ? `${transPrefix}.show_confirmation` : `${transPrefix}.hide_confirmation`, {\n          fileName: file.baseName(),\n        })\n      )\n    );\n\n    if (confirmToggleHide) {\n      try {\n        const filePayload = await app.request<ApiPayloadSingle>({\n          method: 'PATCH',\n          url: `${app.forum.attribute('apiUrl')}/fof/upload/hide`,\n          body: { uuid },\n        });\n\n        app.store.pushPayload(filePayload);\n        m.redraw();\n\n        app.alerts.show(Alert, { type: 'success' }, [\n          icon(file.hidden() ? 'fas fa-eye-slash' : 'fas fa-eye'),\n          ' ',\n          app.translator.trans(file?.hidden() ? `${transPrefix}.hide_success` : `${transPrefix}.show_success`),\n        ]);\n\n        if (this.fileState.user) {\n          const index = this.fileState.files.findIndex((file: File) => uuid === file.uuid());\n          this.fileState.files.splice(index, 1);\n        }\n      } catch (error) {\n        app.alerts.show(\n          Alert,\n          { type: 'error' },\n          app.translator.trans(file?.hidden() ? `${transPrefix}.hide_fail` : `${transPrefix}.show_fail`, {\n            fileName: file.baseName(),\n          })\n        );\n      } finally {\n        // Remove file from hiding list\n        const i = this.filesBeingHidden.indexOf(uuid);\n        this.filesBeingHidden.splice(i, 1);\n      }\n    }\n  }\n}\n","import UploadPage from './UploadPage';\nimport { commonComponents } from '../../common/components';\n\nexport const components = {\n  ...commonComponents,\n  UploadPage,\n};\n","import UploadSharedFileModal from './UploadSharedFileModal';\nimport UploadedFile from './UploadedFile';\nimport UserFileList from './UserFileList';\n\nexport const commonComponents = {\n  UploadedFile,\n  UploadSharedFileModal,\n  UserFileList,\n};\n","import app from 'flarum/common/app';\nimport File from '../models/File';\nimport AbstractFileList from './AbstractFIleList';\nimport FileListState from '../states/FileListState';\n\nexport default class UserFileList extends AbstractFileList {\n  public loadFileList(): void {\n    //app.fileListState.setUser(this.attrs.user || app.session.user);\n    this.fileState.setUser(this.attrs.user || app.session.user);\n    /**\n     * The user who's media we are dealing with\n     */\n    this.user = this.fileState.user; //app.fileListState.user;\n  }\n\n  hasMoreResults(): boolean {\n    return this.fileState.hasMoreResults();\n  }\n\n  loadMore(): void {\n    this.fileState.loadMore();\n  }\n\n  isLoading(): boolean {\n    return this.fileState.isLoading();\n  }\n\n  fileCollection(): File[] {\n    return this.fileState.files;\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class File extends Model {\n  baseName() {\n    return Model.attribute<string>('baseName').call(this);\n  }\n\n  path() {\n    return Model.attribute<string>('path').call(this);\n  }\n\n  url() {\n    return Model.attribute<string>('url').call(this);\n  }\n\n  size() {\n    return Model.attribute<number>('size').call(this);\n  }\n\n  type() {\n    return Model.attribute<string>('type').call(this);\n  }\n\n  humanSize() {\n    return Model.attribute<string>('humanSize').call(this);\n  }\n\n  createdAt() {\n    return Model.attribute('createdAt', Model.transformDate).call(this);\n  }\n\n  uuid() {\n    return Model.attribute<string>('uuid').call(this);\n  }\n\n  tag() {\n    return Model.attribute<string>('tag').call(this);\n  }\n\n  hidden() {\n    return Model.attribute<boolean>('hidden').call(this);\n  }\n\n  bbcode() {\n    return Model.attribute<string>('bbcode').call(this);\n  }\n\n  isShared() {\n    return Model.attribute<boolean>('shared').call(this);\n  }\n\n  isPrivateShared() {\n    return Model.attribute<boolean>('isPrivateShared').call(this);\n  }\n\n  canViewInfo() {\n    return Model.attribute<boolean>('canViewInfo').call(this);\n  }\n\n  canHide() {\n    return Model.attribute<boolean>('canHide').call(this);\n  }\n\n  canDelete() {\n    return Model.attribute<boolean>('canDelete').call(this);\n  }\n\n  apiEndpoint() {\n    return '/fof/uploads' + (this.exists ? '/' + this.id() : '');\n  }\n}\n","import Extend from 'flarum/common/extenders';\nimport File from './models/File';\n\nexport default [\n  new Extend.Store() //\n    .add('files', File)\n    .add('shared-files', File),\n];\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/AdminPage'];","import app from 'flarum/common/app';\nimport File from '../models/File';\nimport AbstractFileList from './AbstractFIleList';\n\nexport default class SharedFileList extends AbstractFileList {\n  public loadFileList(): void {\n    this.fileState.loadResults();\n  }\n\n  hasMoreResults() {\n    return this.fileState.hasMoreResults();\n  }\n\n  loadMore() {\n    this.fileState.loadMore();\n  }\n\n  isLoading(): boolean {\n    return this.fileState.isLoading();\n  }\n\n  fileCollection(): File[] {\n    return this.fileState.files;\n  }\n}\n","import app from 'flarum/common/app';\nimport User from 'flarum/common/models/User';\nimport File from '../models/File';\nimport { ApiQueryParamsPlural, ApiResponsePlural } from 'flarum/common/Store';\n\nexport default class FileListState {\n  public user: User | null;\n  public files: File[];\n  private moreResults: boolean;\n  private loading: boolean;\n  private sharedFiles: boolean;\n\n  constructor(sharedFiles: boolean = false) {\n    this.user = null;\n    this.files = [];\n    this.moreResults = false;\n    this.loading = false;\n    this.sharedFiles = sharedFiles;\n  }\n\n  /**\n   * Set the user and load their file list.\n   * @param user The user whose files to load.\n   */\n  public setUser(user: User): void {\n    if (user === this.user) return;\n\n    this.user = user;\n    this.files = [];\n    this.loadResults();\n  }\n\n  public refresh(): void {\n    this.files = [];\n    this.loadResults();\n    m.redraw();\n  }\n\n  /**\n   * Load more files for the current user, starting from the given offset.\n   * @param offset The starting index for loading more files.\n   * @returns A promise resolving to the loaded files.\n   */\n  public async loadResults(offset: number = 0): Promise<ApiResponsePlural<File>> {\n    if (!this.sharedFiles && !this.user) return Promise.reject('User not set');\n\n    this.loading = true;\n\n    let route: string = 'fof/uploads';\n    let params: ApiQueryParamsPlural = {};\n\n    if (!this.sharedFiles && this.user) {\n      params = {\n        filter: { user: this.user.id() },\n        page: { offset },\n      } as ApiQueryParamsPlural;\n    } else {\n      route = 'fof/upload/shared-files';\n      params = {\n        page: { offset },\n      } as ApiQueryParamsPlural;\n    }\n\n    const results = await app.store.find<File[]>(route, params);\n\n    return this.parseResults(results);\n  }\n\n  /**\n   * Load the next set of results.\n   */\n  public async loadMore(): Promise<ApiResponsePlural<File>> {\n    this.loading = true;\n    return this.loadResults(this.files.length);\n  }\n\n  private parseResults(results: ApiResponsePlural<File>): ApiResponsePlural<File> {\n    this.files = this.files.concat(results);\n    this.loading = false;\n    this.moreResults = !!results.payload?.links?.next;\n    m.redraw();\n    return results;\n  }\n\n  /**\n   * Add files to the beginning of the list.\n   * @param files The files to be added.\n   */\n  public addToList(files: File | File[]): void {\n    if (Array.isArray(files)) {\n      this.files.unshift(...files);\n    } else {\n      this.files.unshift(files);\n    }\n    m.redraw();\n  }\n\n  /**\n   * Remove files from the list.\n   * @param files The files to be removed.\n   */\n  public removeFromList(files: File | File[]): void {\n    if (Array.isArray(files)) {\n      this.files = this.files.filter((file) => !files.includes(file));\n    } else {\n      this.files = this.files.filter((file) => file !== files);\n    }\n\n    m.redraw();\n  }\n\n  /**\n   * Check if there are files in the list.\n   * @returns True if there are files, false otherwise.\n   */\n  public hasFiles(): boolean {\n    return this.files.length > 0;\n  }\n\n  /**\n   * Check if the file list is currently loading.\n   * @returns True if loading, false otherwise.\n   */\n  public isLoading(): boolean {\n    return this.loading;\n  }\n\n  /**\n   * Check if there are more files to load.\n   * @returns True if there are more files, false otherwise.\n   */\n  public hasMoreResults(): boolean {\n    return this.moreResults;\n  }\n\n  /**\n   * Check if the user has no files and the list is not loading.\n   * @returns True if the list is empty and not loading, false otherwise.\n   */\n  public empty(): boolean {\n    return !this.hasFiles() && !this.isLoading();\n  }\n}\n","import app from 'flarum/admin/app';\nimport AdminPage, { AdminHeaderAttrs } from 'flarum/admin/components/AdminPage';\nimport Button from 'flarum/common/components/Button';\nimport { IPageAttrs } from 'flarum/common/components/Page';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport type Mithril from 'mithril';\nimport UploadSharedFileModal from '../../common/components/UploadSharedFileModal';\nimport File from 'src/common/models/File';\nimport SharedFileList from '../../common/components/SharedFileList';\nimport FileListState from '../../common/states/FileListState';\n\nexport default class SharedUploadPage<CustomAttrs extends IPageAttrs = IPageAttrs> extends AdminPage<CustomAttrs> {\n  sharedUploads: File[] = [];\n  currentPage: number = 1;\n  fileState!: FileListState;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.fileState = new FileListState(true);\n  }\n\n  headerInfo(): AdminHeaderAttrs {\n    return {\n      className: 'SharedUploadPage--header',\n      icon: 'fas fa-file-upload',\n      title: app.translator.trans('fof-upload.admin.shared-uploads.title'),\n      description: app.translator.trans('fof-upload.admin.shared-uploads.description'),\n    };\n  }\n\n  content(): Mithril.Children {\n    return (\n      <div className=\"SharedUploadPage--content\">\n        <p className=\"helpText\">{app.translator.trans('fof-upload.admin.shared-uploads.introduction')}</p>\n        <hr />\n        <div className=\"SharedUploadPage--main-actions\">{this.mainActionItems().toArray()}</div>\n        <hr />\n        <div className=\"SharedUploadPage--uploads\">\n          <SharedFileList user={app.session.user} selectable={false} fileState={this.fileState} onDelete={this.onDelete.bind(this)} />\n        </div>\n      </div>\n    );\n  }\n\n  showUploadModal() {\n    app.modal.show(UploadSharedFileModal, {\n      onUploadComplete: (files: File | File[]) => {\n        this.uploadComplete(files);\n      },\n    });\n  }\n\n  mainActionItems(): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('refresh', <Button className=\"Button Button--icon\" icon=\"fas fa-sync\" onclick={() => this.refresh()} />);\n\n    items.add(\n      'upload-new',\n      <Button className=\"Button\" icon=\"fas fa-upload\" onclick={() => this.showUploadModal()}>\n        {app.translator.trans('fof-upload.admin.shared-uploads.upload-new-button')}\n      </Button>\n    );\n\n    return items;\n  }\n\n  fileActionItems(file: File): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n\n    return items;\n  }\n\n  uploadComplete(files: File | File[]) {\n    console.log('upload complete', files);\n    this.fileState.addToList(files);\n  }\n\n  refresh() {\n    this.fileState.refresh();\n  }\n\n  onDelete(file: File) {\n    this.fileState.removeFromList(file);\n  }\n}\n","import { default as extend } from '../common/extend';\nimport Extend from 'flarum/common/extenders';\nimport SharedUploadPage from './components/SharedUploadPage';\n\nexport default [\n  ...extend,\n\n  new Extend.Routes() //\n    .add('adminUploads', '/uploads', SharedUploadPage),\n];\n","import app from 'flarum/admin/app';\nimport UploadPage from './components/UploadPage';\nimport extendAdminNav from './extendAdminNav';\nimport FileListState from '../common/states/FileListState';\n\nexport * from './components';\n\nexport { default as extend } from './extend';\n\napp.initializers.add('fof-upload', () => {\n  app.extensionData\n    .for('fof-upload')\n    .registerPage(UploadPage)\n    .registerPermission(\n      {\n        icon: 'far fa-file',\n        label: app.translator.trans('fof-upload.admin.permissions.upload_label'),\n        permission: 'fof-upload.upload',\n      },\n      'start',\n      50\n    )\n    .registerPermission(\n      {\n        icon: 'fas fa-download',\n        label: app.translator.trans('fof-upload.admin.permissions.download_label'),\n        permission: 'fof-upload.download',\n        allowGuest: true,\n      },\n      'view',\n      50\n    )\n    .registerPermission(\n      {\n        icon: 'fas fa-eye',\n        label: app.translator.trans('fof-upload.admin.permissions.view_user_uploads_label'),\n        permission: 'fof-upload.viewUserUploads',\n      },\n      'moderate',\n      50\n    )\n    .registerPermission(\n      {\n        icon: 'fas fa-trash',\n        label: app.translator.trans('fof-upload.admin.permissions.delete_uploads_of_others_label'),\n        permission: 'fof-upload.deleteUserUploads',\n      },\n      'moderate',\n      50\n    )\n    .registerPermission(\n      {\n        icon: 'far fa-file-alt',\n        label: app.translator.trans('fof-upload.admin.permissions.upload_shared_label'),\n        permission: 'fof-upload.upload-shared-files',\n      },\n      'start'\n    )\n    .registerPermission(\n      {\n        icon: 'far fa-file-alt',\n        label: app.translator.trans('fof-upload.admin.permissions.access_shared_label'),\n        permission: 'fof-upload.access-shared-files',\n      },\n      'start'\n    );\n\n  extendAdminNav();\n\n  //app.fileListState = new FileListState();\n});\n","import app from 'flarum/admin/app';\nimport { extend } from 'flarum/common/extend';\nimport AdminNav from 'flarum/admin/components/AdminNav';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport type Mithril from 'mithril';\n\nexport default function extendAdminNav() {\n  extend(AdminNav.prototype, 'items', function (items: ItemList<Mithril.Children>) {\n    items.add(\n      'shared-uploads',\n      <LinkButton href={app.route('adminUploads')} icon=\"fas fa-file-upload\" title={app.translator.trans('fof-upload.admin.shared-uploads.title')}>\n        {app.translator.trans('fof-upload.admin.nav.shared-uploads-button')}\n      </LinkButton>,\n      49\n    );\n  });\n}\n"],"names":["_typeof","require","_regeneratorRuntime","module","exports","e","__esModule","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","this","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","definition","key","get","obj","prop","flarum","core","compat","_setPrototypeOf","bind","_inheritsLoose","UploadImageButton","_FlarumUploadImageBut","apply","arguments","resourceUrl","app","attribute","attrs","path","FlarumUploadImageButton","InspectMimeModal","_Modal","_proto","oninit","vnode","uploading","inspection","className","title","trans","content","m","href","onchange","onupload","disabled","LoadingIndicator","laravel_validation","error","laravel_validation_error","mime_detector","php_mime","guessed_extension","event","_this","body","FormData","target","files","append","url","serialize","raw","result","redraw","Modal","UploadPage","_ExtensionPage","loading","fields","checkboxes","objects","watermarkPositions","center","left","top","right","bottom","composerButtonVisiblityOptions","both","settings","settingsPrefix","uploadMethodOptions","addPrefix","templateOptions","Stream","JSON","parse","defaultAdap","mimeTypes","adapter","template","newMimeType","regex","_this2","max_post","max_upload","onsubmit","maxFileSize","oninput","withAttr","min","post","upload","map","mime","config","updateMimeTypeKey","Select","options","updateMimeTypeAdapter","getTemplateOptionsForInput","updateMimeTypeTemplate","Button","onclick","deleteMimeType","addMimeType","show","templateOptionsDescriptions","composerButtonVisiblity","Switch","state","mustResize","resizeMaxWidth","whitelistedClientExtensions","addsWatermarks","watermarkPosition","component","disableHotlinkProtection","disableDownloadLogging","cdnUrl","adaptorItems","toArray","changed","items","ItemList","add","icon","Link","external","imgurClientId","qiniuKey","qiniuSecret","qiniuBucket","awsS3Key","awsS3Secret","awsS3Bucket","awsS3Region","awsS3Endpoint","awsS3UsePathStyleEndpoint","awsS3ACL","awsS3CustomUrl","option","children","trust","description","_this3","fieldsCheck","some","checkboxesCheck","objectsCheck","stringify","_this4","preventDefault","dismiss","successAlert","saveSettings","Alert","ExtensionPage","_extends","assign","asyncGeneratorStep","_asyncToGenerator","_next","_throw","mimeToIconMap","Map","mimeToIcon","fileType","startsWith","UploadSharedFileModal","_len","args","Array","_key","concat","fileInput","shared","hidden","onFileChange","addFiles","from","newFiles","_ref","onDragOver","stopPropagation","onDrop","dataTransfer","onDropzoneClick","click","ondragover","ondrop","multiple","style","opacity","position","oncreate","dom","file","isImage","src","URL","createObjectURL","alt","filter","_upload","_callee","formData","results","uploadedFiles","_context","pushPayload","onUploadComplete","hide","UploadedFile","_Component","callback","imageLoaded","handleImageError","handleImageLoad","view","fileIcon","statusIcon","isPrivateShared","uuid","baseName","onFileClick","fileClassNames","onerror","onload","actionItems","viewFileInfo","window","open","hideFileIcon","hideFile","confirmDelete","_confirmDelete","confirm","onDelete","console","log","onFileSelect","Component","DisplayFile","isFileHiding","isSelected","isSelectable","fileSelectable","onbeforeupdate","fileSelectedClass","draggable","displayIcon","Tooltip","text","class","role","display","alignItems","justifyContent","height","canViewInfo","transPrefix","isShared","hideTranslation","fileName","canHide","deleteTranslation","canDelete","onHide","extractText","_x","AbstractFileList","user","inModal","restrictFileType","downloadOnClick","filesBeingHidden","fileState","selectable","loadFileList","isLoading","fileCollection","_file$id","_file$id2","classList","selectedFiles","indexOf","id","includes","hasMoreResults","loadMore","isArray","_hideFile","filePayload","index","findIndex","splice","t0","components","UserFileList","_AbstractFileList","setUser","File","_Model","Model","size","humanSize","createdAt","tag","bbcode","apiEndpoint","exists","Extend","SharedFileList","loadResults","FileListState","sharedFiles","moreResults","refresh","_loadResults","offset","route","params","reject","page","find","parseResults","_loadMore","_callee2","_context2","_results$payload","payload","links","addToList","_this$files","unshift","removeFromList","hasFiles","empty","SharedUploadPage","_AdminPage","sharedUploads","currentPage","headerInfo","mainActionItems","showUploadModal","uploadComplete","fileActionItems","AdminPage","extend","registerPage","registerPermission","label","permission","allowGuest","AdminNav","LinkButton"],"sourceRoot":""}